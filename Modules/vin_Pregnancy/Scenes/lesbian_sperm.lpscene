WHAT: all
WHERE: home
WHEN: 0-24
WHO: Actor = getSpecific(Dating); If Actor.isFemale() && !Actor.isPregnant() && [Actor.isOnPeriod() || Player.isOnPeriod()]
OTHER: Player.isFemale() && !Player.isPregnant()

    // Sperm donor for lesbian couple: with the PC as the lesbian getting impregnated.
    SceneStart()

        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        Actor.dress()
        Actor.show()
        
        "<Actor.name> and I are a lesbian couple, who means we can't have a baby without the help of a sperm donor. Should we look for one now?"
        0:: "Yes"
        1:: "No"
        
        If 0
            "Who should be the man we approach to become the sperm donor?"
            selectNPC()
            Actor2 = getSelectedNPC()
            If Actor2.isValid() && Actor2.isMale() && Actor2:fertility > 0  // Edit by Ravenger6660
                If Actor2:rapportwithplayer > 30 || Actor2:perversion > 70 || Actor2.hadSex()
                    Actor2.dress()
                    Actor2.show()
                    Actor2.setWantsBabies(true)
                    "<Actor2.name> agreed to be our sperm donor. <Actor2.He_or_She> insisted on a 'traditional' insemination procedure without going to the hospital though ..."
                    0:: [Player.isOnPeriod() && fertility > 0]:: "Get impregnated by <Actor2.name> myself" // Edit by Ravenger6660
                    1:: [Actor.isOnPeriod() && Actor:fertility_npc > 0]:: "Let <Actor.name> get impregnated by <Actor2.name>" // Edit by Ravenger6660
                    2:: [Actor.isOnPeriod() && Player.isOnPeriod() && fertility > 0 && Actor:fertility_npc > 0]::"Have <Actor2.name> impregnate both <Actor.name> and myself" // Edit by Ravenger6660
                    3:: "On second thought, no"
                    
                    If 0
                        Actor2.impregnate(Player)
                        Player.setWantsBabies(true)
                        Sex(Actor2, Player)
                        If HungerEnable > 0
                            Player.modifyActorVar(rk_VB_Hunger, -2)
                        EndIf
                        
                    Elseif 1
                    
                        Actor2.impregnate(Actor)
                        Actor.setWantsBabies(true)
                        Sex(Actor2, Actor)
                        
                    Elseif 2
                    
                        Actor2.impregnate(Actor)
                        Actor2.impregnate(Player)
                        Player.setWantsBabies(true)
                        Actor.setWantsBabies(true)
                        Sex(Actor2, Player, Actor) 
                        If HungerEnable > 0
                            Player.modifyActorVar(rk_VB_Hunger, -3)
                        EndIf 
                        
                    Else
                    
                        "On second thought, no"
                        Actor2.setWantsBabies(false)   
                        
                    Endif
                    
                Else
                    "Unfortunately, <Actor2.name> turned down my invitation."
                Endif
                
            Elseif !isModEnabled(vin_Incest) && Actor2.isRelative() && !Actor2.isFemale() && Actor2:fertility > 0
            
                If Actor.isOnPeriod() && Actor:fertility_npc > 0
                    "Let's <Actor.name> get impregnated by my <Actor2.relationship>"
                    "At least the child will still be of my blood-line"
                    Actor.setWantsBabies(true)
                    SexNoAffair(Actor2, Actor)
                    Actor.setActorVar(tag_Mine, 1)
                Else
                    "I can't ask my <Actor2.relationship> to help me..."
                Endif 
            
            Else
                "Must be a man."
            Endif
        Endif
        
    SceneEnd() // Edit by Ravenger6660 - Raddeck
    timeout(500, lesbian_sperm)