WHAT: none
WHERE: none
WHEN: 0-24
WHO: none
OTHER:

    SceneStart()
    "This action allows to easily and proactively organize your poly relationships, instead of having to rely on randomly triggered scenes."
    "Also useful because v3.21 expanded the relationship system for more flexible poly stuffs, so if your poly relationships were started in a save before this, everything might not sync perfectly and may require some manual adjustment here."
    clearGetList()
    Actor = getSpecific(Dating)
    If Actor.isValid() && !OpenRelationship()
        "You haven't asked your current significant other for an open relationship yet, which is a prerequisite for introducing more polyamorous lovers into the relationship."
        "Set your current relationship to open to unlock polyamorous content?"
        0:: "Yes"
        1:: "No"
        
        If 0
            startOpenRelationship()
        Endif
    Endif
    While Actor.isValid()
        Actor.show()
        Actor:: "Baby, what do you need?"
        If Actor.livesWithPlayer()
            "<Actor.name> currently lives together with me."
        Else
            "<Actor.name> currently doesn't live together with me."
        Endif
        If Actor.isMarried()
            "I consider myself married to <Actor.name>."
        Else
            "I consider myself only in a relationship with <Actor.name>."
        Endif
        If Actor.WantsBabies()
            "<Actor.name> and I currently are wanting a child together."
        Else
            "<Actor.name> and I are not currrently wanting a child together."
        Endif
        "Our relationship strength is <Actor:attractiontoplayer>."
        
        choice = 9
        While choice > 0
            "What action should I take with <Actor.name>?"
            0:: "Nothing"
            1:: Actor.livesWithPlayer():: "Ask <Actor.name> to move out and find <Actor.his_or_her> place"
            2:: !Actor.livesWithPlayer():: "Ask <Actor.name> to move in with me"
            3:: !Actor.livesWithPlayer():: "Move in with <Actor.name>"
            4:: Actor.isMarried():: "Divorce <Actor.name>, but keep dating <Actor.him_or_her>"
            5:: !Actor.isMarried():: "Marry <Actor.name>"
            6:: Actor.WantsBabies():: "Stop trying for a baby with <Actor.name>"
            7:: !Actor.WantsBabies():: "Start trying for a baby with <Actor.name>"
            8:: "Break up with <Actor.name>"
            
            If 1
                "<Actor.name> no longer lives with me and has found another place to live."
                Actor.setLivingWithPlayer(false)
                Actor.favoriteHome()
            Elseif 2
                "<Actor.name> moved out of <Actor.his_or_her> current place and moved in with me."
                Actor.favoriteHome(false)
                Actor.setLivingWithPlayer(true)
            Elseif 3
                loseHome()
                Loc = Actor.getBuilding(home)
                Loc.setHomeDating()
                "I decided to move out of my current place and moved in to <Actor.name>'s place."
                "Note that if you just moved in to someone's place who hasn't been living with you until now, the ones currently living with you don't move with you automatically to this person's home. Use the 'Manage polyamorous relationships' action again to ask them all to move to your new home." 
            Elseif 4
                Actor.setActorVar(tag_Married, 0)
                "<Actor.name> is no longer married to me but we're still dating. A more than amicable divorce!"
                "<Actor.name> is now just my <Actor.boyfriend_or_girlfriend>."
            Elseif 5
                Actor.setActorVar(tag_Married, 1)
                "<Actor.name> and I put together a small private wedding ceremony, nothing that would attract too much attention since polygamy is illegal after all. We are now married."
                If !IsPlayerMarried()
                    getMarried()
                Endif
                "<Actor.name> is now my <Actor.boyfriend_or_girlfriend>."
            Elseif 6
                Actor.setWantsBabies(false)
                "<Actor.name> agreed that we shoud stop trying for a baby together."
            Elseif 7
                Actor.setWantsBabies(true)
                Player.setWantsBabies(true)
                "<Actor.name> agreed that we shoud start trying for a baby together."            
            Elseif 8
                Actor.setDatingId()
                loseDating()
                choice = 0
            Endif            
        Endwhile
        Actor = getSpecific(Dating)
    Endwhile
    "That's all the polyamorous lovers I currently have."
    "Note that if you just moved in to someone's place who hasn't been living with you until now, the ones currently living with you don't move with you automatically to this person's home. Use the 'Manage polyamorous relationships' action again to ask them all to move to your new home." 
    SceneEnd()