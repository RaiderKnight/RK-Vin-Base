WHAT: all
WHERE: jewellery, department_store, marketplace, art, gift
WHEN: 8 - 20
WHO: none
OTHER: Player.isFemale()

    // The female PC is in a shop. She is approached by an undercover cop who has a sniffer dog with her. PC perversion would need to be high for the scene to become a sexual encounter, but the PC would not need to have already had sex with a dog in order to do so in this scenario.
    SceneStart()

        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        
        "While you are browsing in a shop, you see a pair of earrings that you really like. They are very expensive and you cannot afford to buy them."
        "However, no one is looking. Would it hurt just to pick them up and put them in your pocket?"
        0:: "Don't take them"
        1:: "Take them"
        
        If 1
            
            karma -= 1 // Edit by Raddeck
            "You pick up the earrings and begin to leave the shop."
            Actor = generatePersonTemporary()
            While Actor.isMale()
                Actor = generatePersonTemporary()
            Endwhile
            Actor.dress()
            Actor.show()
            Actor2 = generateCreatureTemporary(dog)
            Actor2.show()
            "Just as you step out of the door a woman with a dog approaches you."
            Actor.moveToPersonStand(Player, 50)
            Actor(Serene):: "Hi, my name is detective <Actor.name> <Actor.name_last> and my sniffer dog has indicated that you have stolen items on your person. Come with me please so that I can conduct a search"
            sneak -= 1 // Edit by Raddeck
            "What should I do?" // Edit by Raddeck
            0:: "Escape with the booty" // Edit by Raddeck
            1:: "Follow the undercover cop" // Edit by Raddeck
            
            If 0
            
                If Random(0, 100) < fitness
                    "I managed to lose the cop in the end. Phew!"
                    sneak += 2 // Edit by Raddeck
                    money += Random(200, 3000) // Edit by Raddeck
                    energy -= 10 // Edit by Raddeck
                Else
                    "Unfortunately I wasn't able to escape and I was arrested."
                    mood -= 10 // Edit by Raddeck
                    sneak -= 1 // Edit by Raddeck
                    energy -= 10 // Edit by Raddeck
                    sentence += 6
                    followUp(imprisoned)
                Endif
                
            Else
                
                setBackground3D(Modules/rk_More_Rides/World/Vim_Basement_Room.lpworld) // Edit by Raddeck
                "The undercover cop takes you to a room."
                "She locks the door and the dog begins to sniff you intimately. It soon locates the stolen item. And strangely, you have become slightly aroused from the dogs probing snout."
                arousal += 1 // Edit by Raddeck
                "The cop reclaims the stolen earrings and said..."
                Actor(Serene):: "Ok, we can handle this in two ways. 1, I can arrest you, charge you and then you will be sent to jail."
                Actor(Grin)::"Or 2 ... it seems as though my dog likes the smell of you, so if you give him a 'reward' then we can forget that this ever happened. What do you say?"
                0:: "Are you crazy!"
                1:: "Who cares, yes!" 
                
                If 0
                
                    "With that refusal, I got arrested."
                    mood -= 10 // Edit by Raddeck
                    perversion -= 1 // Edit by Raddeck
                    arousal -= 2 // Edit by Raddeck
                    sentence += 6
                    followUp(imprisoned)
                    
                Else

                    "Ok... I guess giving him a 'reward' won't be all that bad... and he does look really cute!"
                    "So I undressed and started my duty ..." // Edit by Raddeck
                    mood -= 3 // Edit by Raddeck
                    perversion += 1 // Edit by Raddeck
                    arousal -= 1 // Edit by Raddeck
                    Player.strip() // Edit by Raddeck
                    Sex(Actor2, Player)
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -2)
                    EndIf
                    
                    Player(Curious)::"So that's fine, I can I keep the earrings?" // Edit by Raddeck
                    Actor(Grin)::"You're gonna have to sleep with me too!" // Edit by Raddeck
                    "The undercover cop indicates that she would like to join in."
                    "What I should answer?" // Edit by Raddeck
                    0:: "Keep the earrings" // Edit by Raddeck
                    1:: "Yes for the earrings" // Edit by Raddeck
    
                    If 0
                    
                        Player(Angry):: "Fuck off! That wasn't part of the deal" // Edit by Raddeck
                        mood -= 3  // Edit by Raddeck
                        arousal -= 1 // Edit by Raddeck
                        
                    Else
                    
                        Player(Annoyed):: "Ok... why the fuck not! I'm so horny now I'll do anything!" // Edit by Raddeck
                        perversion += 1 // Edit by Raddeck
                        arousal -= 1 // Edit by Raddeck
                        Sex(Actor2, Player, Actor)
                        If HungerEnable > 0
                            Player.modifyActorVar(rk_VB_Hunger, -2)
                        EndIf
                        money += Random(200, 3000) // Edit by Raddeck
                        Actor(Happy)::"My dog is happy, I'm full, here are your earrings." // Edit by Raddeck
                    Endif
                    
                Endif
                
            Endif
            
        Endif
        
    SceneEnd() // Improved by Raddeck
    timeout(500, undercover_cop_cms)