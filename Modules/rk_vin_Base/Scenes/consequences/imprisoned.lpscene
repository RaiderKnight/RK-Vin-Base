WHAT: none
WHERE: none
WHEN: 0-24
WHO: none
OTHER: none

    SceneStart()

        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        // List of charges
        BestiCount = Player.getActorVar(rk_VB_BestiCount)
        SellDrugCount = Player.getActorVar(rk_VB_SellDrugCount)
        IncestCount = Player.getActorVar(rk_VB_IncestCount)
        PublicIndCount = Player.getActorVar(rk_VB_PublicIndCount)
        KillCount = Player.getActorVar(rk_VB_KillCount)
        ProstCount = Player.getActorVar(rk_VB_ProstCount)
        RapeCount = Player.getActorVar(rk_VB_RapeCount)
        RobberyCount = Player.getActorVar(rk_VB_RobberyCount)
        SmallOffenceCount = Player.getActorVar(rk_VB_SmallOffenceCount)
        TotalSentences = Player.getActorVar(rk_VB_TotalSentences)
        Court = true
        setBackground(police)
        "I was taken back to the police station."
        Actor = generatePersonTemporary()
        Actor.dress()
        Actor.show()
        AgeP = Player:age*365
        DateofSentences = Player.getActorVar(rk_VB_DateofSentences)
        "The officer in charge of my case is <Actor.name> <Actor.name_last>."
        If Actor:attractiontoplayer > 10 && Actor:perversion > 50 && Actor:arousal > 15
            "<Actor.name> didn't waste any time and offer to reduce my sentence in a half if I just fuck with <Actor.him_or_her>"
            0:: "No way"
            1:: "It's better than going to jail ..."
        
            If 1
                perversion += 1
                masochist -= Random(0, 1)
                Sex(Player, Actor)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -2)
                EndIf
                If Random(0, 100) > 90
                    Actor(Happy)::"Damn, you knew how to make me happy, so take that door and escape right now, before the agents come back ..."
                    Court = false
                Else
                    HowManysentence = Player:sentence/2
                    sentence => HowManysentence
                    Actor(Happy)::"Damn, you knew how to make me happy, as agreed, I reduced your sentence in half!"
                    Player.setActorVar(rk_VB_TotalSentences, HowManysentence)
                    Court = true
                Endif
                mood -= 1
            Endif
        Elseif Random(0, 150) < Actor:attractiontoplayer + Actor:perversion
        
            "<Actor.name> didn't waste any time and offer to release me and clear my record if I just fuck with <Actor.him_or_her>"
            0:: "No way"
            1:: "It's better than going to jail ..."
        
            If 1
                perversion += 1
                masochist -= Random(0, 1)
                Sex(Player, Actor)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -2)
                EndIf
                Court = false
                mood -= 1
            Endif
        Else
        
            "Maybe I can try to seduce <Actor.him_or_her> to release me and clear my record?"
            0:: "Yes"
            1:: "I'd rather go to jail then lose my honour"
        
            If 0
                perversion += 1
                If Random(0, 200) < Actor:attractiontoplayer + Actor:perversion
                
                    Actor(Excited):: "I suppose that's a fair deal!"
                    Sex(Player, Actor)
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -2)
                    EndIf
                    Court = false
                Else
                
                    Actor(Shocked):: "I'm afraid you have been watching too much cop porn. I'm not one of those cops."
                    mood -= 1
                Endif
            Endif
        Endif
        If Court
            TotalSentences = Player.getActorVar(rk_VB_TotalSentences)
            setBackground(prison)
            "I've been arrested, awaiting trial for my crimes."
            CourtJudge = true
            ChargeD = Random(300, 1000)
            ChargeB = Random(1000, 2000)
            ChargeSD = Random(500, 2000)
            ChargeI = Random(5000, 10000)
            ChargePI = Random(500, 1000)
            ChargeK = Random(5000, 10000)
            ChargeP = Random(500, 1000)
            ChargeRA = Random(5000, 10000)
            ChargeRO = Random(500, 1000)
            ChargeD_loc = ChargeD.convertToLocalCurrency()
            ChargeB_loc = ChargeB.convertToLocalCurrency()
            ChargeSD_loc = ChargeSD.convertToLocalCurrency()
            ChargeI_loc = ChargeI.convertToLocalCurrency()
            ChargePI_loc = ChargePI.convertToLocalCurrency()
            ChargeK_loc = ChargeK.convertToLocalCurrency()
            ChargeP_loc = ChargeP.convertToLocalCurrency()
            ChargeRA_loc = ChargeRA.convertToLocalCurrency()
            ChargeRO_loc = ChargeRO.convertToLocalCurrency()
            If BestiCount > 0
                ChargesCostB = BestiCount * ChargeB
                ChargesCostB_loc = ChargesCostB.convertToLocalCurrency()
            Endif
            If SmallOffenceCount > 0
                ChargesCostD = SmallOffenceCount * ChargeD
                ChargesCostD_loc = ChargesCostD.convertToLocalCurrency()
            Endif
            If SellDrugCount > 0
                ChargesCostSD = SellDrugCount * ChargeSD
                ChargesCostSD_loc = ChargesCostSD.convertToLocalCurrency()
            Endif
            If IncestCount > 0
                ChargesCostI = IncestCount * ChargeI
                ChargesCostI_loc = ChargesCostI.convertToLocalCurrency()
            Endif
            If PublicIndCount > 0
                ChargesCostPI = PublicIndCount * ChargePI
                ChargesCostPI_loc = ChargesCostPI.convertToLocalCurrency()
            Endif
            If KillCount > 0
                ChargesCostK = KillCount * ChargeK
                ChargesCostK_loc = ChargesCostK.convertToLocalCurrency()
            Endif
            If ProstCount > 0
                ChargesCostP = ProstCount * ChargeP
                ChargesCostP_loc = ChargesCostP.convertToLocalCurrency()
            Endif
            If RapeCount > 0
                ChargesCostRA = RapeCount * ChargeRA
                ChargesCostRA_loc = ChargesCostRA.convertToLocalCurrency()
            Endif
            If RobberyCount > 0
                ChargesCostRO = RobberyCount * ChargeRO
                ChargesCostRO_loc = ChargesCostRO.convertToLocalCurrency()
            Endif
            TotalCostLawyer = ChargeB + ChargeSD + ChargeI + ChargePI + ChargeK + ChargeP + ChargeRA + ChargeRO + ChargeD
            TotalCostLawyer_loc = TotalCostLawyer.convertToLocalCurrency()
            CourtJ3 = false
            
            While CourtJudge
                0:: "Accept my fate"
                1:: "Be represented by the world's best lawyer (consume all karma)"
                2:: !CourtJ3 ::"Clear all charges (consume all karma + <TotalCostLawyer_loc>)"
    
                If 0
                    "The court-appointed lawyer didn't do me much good. I got the expected sentence and was sent on my way to jail."
                    setBackground(prison)
                    "So the guards escorted me to my cell..."
                    imprison()
                    CourtJudge = false
                    Player.setActorVar(rk_VB_DateofSentences, AgeP)
                    SceneEnd()
                Elseif 1
                    "My world-class lawyer turned everything around and I was eventually cleared of all charges from this event. I'm a free <Player.man_or_woman> again!"
                    sentence => 0
                    karma -= 100
                    CourtJudge = false
                    Player.setActorVar(rk_VB_DateofSentences, AgeP)
                    SceneEnd()
                Else
                    "The lawyer price for clearing all my charges is <TotalCostLawyer_loc>"
                    "Do I want to pay (TotalCostLawyer_loc) or reconsider?"
                    0::money > TotalCostLawyer::"Pay"
                    1::"Reconsider"
                    
                    If 1
                        sentence => 0
                        Player.setActorVar(rk_VB_TotalSentences, 0)
                        karma => 5
                        money -= TotalCostLawyer
                        mood += 15
                        If SmallOffenceCount > 0 
                            Player.setActorVar(rk_VB_SmallOffenceCount, 0)
                            
                        Endif
                        If BestiCount > 0
                            Player.setActorVar(rk_VB_BestiCount, 0)
                            
                        Endif
                        If SellDrugCount > 0
                            Player.setActorVar(rk_VB_SellDrugCount, 0)
                            
                        Endif
                        If IncestCount > 0
                            Player.setActorVar(rk_VB_IncestCount, 0)
                            
                        Endif
                        If PublicIndCount > 0
                            Player.setActorVar(rk_VB_PublicIndCount, 0)
                            
                        Endif
                        If KillCount > 0
                            Player.setActorVar(rk_VB_KillCount, 0)
                            
                        Endif
                        If ProstCount > 0
                            Player.setActorVar(rk_VB_ProstCount, 0)
                            
                        Endif
                        If RapeCount > 0
                            Player.setActorVar(rk_VB_RapeCount, 0)
                            
                        Endif
                        If RobberyCount > 0
                            Player.setActorVar(rk_VB_RobberyCount, 0)
                            
                        Endif
                        CourtJudge = false
                        SceneEnd()
                    Else
                        CourtJ3 = true
                        CourtJudge = true
                    Endif
                Endif
            EndWhile
        Else
            Player.setActorVar(rk_VB_DateofSentences, AgeP)
            "So the guards escorted me to my cell..."
            imprison()
            mood -= 3
            SceneEnd()
        Endif
    
    SceneEnd() // scene improved by Raddeck