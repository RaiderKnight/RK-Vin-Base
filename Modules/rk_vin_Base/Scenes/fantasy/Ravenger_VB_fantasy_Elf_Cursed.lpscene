WHAT: all
WHERE: all, -home, -work, -university:school, -university:work
WHEN: 0 - 24
WHO: eElf = getPerson(); If eElf.isRace(Elf) && eElf.isInterestedIn(Player) && eElf:masochist < -10
OTHER: !isAtHome() && PercentageElves > 0 && isModEnabled(vin_NonConsensual)

    SceneStart()
    
        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        eElf = generatePersonTemporary()
        Player:: "Oh!... Oh!"
        eElf.dress()
        eElf.show()
        "I'm getting very hot right now & horny"
        eElf(Grin):: "Ha, ha, ha."
        "That Elf cursed me!"
        "Trying to force me to masturbate, furiously!."
        0:: "Give in"
        1:: "Give in"
        2:: [intelligence > 70 && karma > 50]:: "Try to resist"
        3:: "Give in"
            
        If 2
            "By some miracle and a force of will. I resisted the elf's magic."
            perversion -= 10
            arousal => 10 
            
        Else
            "I... can't... resist... it...!"
            Player.strip()
            arousal += 100
            0:: "...Give in!"
            1:: "...Help me!"
            2:: fitness > 50 :: "...Run"
            3:: masochist < -20 ::"...Revenge"
            
            If 3
            
                "If I'm going to be this elf's plaything, then I'm going to teach <eElf.him_or_her> a lesson."
                Player.animate(martialart)
                Player.moveToPersonStand(eElf, 100)        
                faceEachOther(eElf, Player)
                eElf.animate(martialart)        
                Player.animate()
                eElf.animate() 
                
                If martial > eElf:martial
                    eElf.animate(fightlost)
                    eElf(Pain):: "Ah!"
                    eElf.strip()
                    Player(Angry):: "Who is fucking who now."
                    Filter(Aggressive)
                    TalkNonConsensual()
                    SexNoAffair(Player, eElf)
                    masochist -= 10
                    perversion += 20
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -1)
                    EndIf
                    
                Else
                
                    Player.animate(fightlost)
                    Player(Pain):: "Ah!"
                    eElf(Evil):: "Ha! You really thought you could match me in a fight?"  
                    Filter(Solo)
                    Sex(Player)
                    eElf(Evil):: "Now it is my turn."
                    Filter(Aggressive)
                    TalkNonConsensual()
                    SexNoAffair(eElf, Player)
                    masochist += 10
                    perversion += 40
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -1)
                    EndIf
                    
                Endif
            
            Elseif 1
            
                Helper = getCompanion()
                If !Helper.isValid()
                    Helper = generatePersonTemporary()
                    While !Helper.isInterestedIn(Player) || Helper:age > 35
                        Helper = generatePersonTemporary()
                    endWhile
                    Helper.randomizeHairs()
                    Helper.randomizeSexy()
                    Helper.randomizeFace()
                    Helper.dress()
                    Helper.show(2)
                    
                Endif
                
                If !isModEnabled(vin_Incest) && Helper.isRelative()
                    "I can't ask my <Relative.relationship> to help me..."
                    "I could not fight my urgess any longer."
                    "And start masturbating right there."
                    Filter(Solo)
                    Sex(Player)
                    perversion += 10
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -1)
                    EndIf
                    
                Else
                    If Helper.isRace(Elf) && [Helper:intelligence + Random(0, 15)] > eElf:intelligence
                        "Luck for me <Helper.name> was there and was able to counter the curse."
                        Helper:rapportwithplayer += Random(5, 15)
                        
                    Else
                        Player:: "<Helper.name> help me..."
                        Helper:: "What do you need me to do?"
                        Player:: "I'm losing control of myself..."
                        Helper:: "Will this help?"
                        Love = 0
                        Love += Helper:attractiontoplayer
                        Love += Helper:incest
                        Love += Helper:perversion
                        Love += Helper:rapportwithplayer
                        If Random(200, 350) < Love 
                            Helper:incest += Random(1, 2)
                            If Helper:perversion < 50
                                Filter(Handjob, Blowjob, Boobjob)
                                SexNoAffair(Player, Helper)
                                Helper:arousal += 50
                                If HungerEnable > 0
                                    Player.modifyActorVar(rk_VB_Hunger, -1)
                                EndIf
                                If Helper:arousal > 70 || Helper:perversion > 75
                                    Helper(Flirty):: "Oh no! I think I'm being cursed too."
                                    Player(Flirty):: "More!"
                                    Sex(Player, Helper)
                                    Helper:incest += 10
                                    Helper:attractiontoplayer += 10
                                    Helper:perversion += 10
                                    perversion += 10
                                    If HungerEnable > 0
                                        Player.modifyActorVar(rk_VB_Hunger, -1)
                                    EndIf
                                
                                Endif
                                
                            Else
                                Helper:incest += 10
                                Helper:attractiontoplayer += 10
                                Sex(Player, Helper)
                                If HungerEnable > 0
                                    Player.modifyActorVar(rk_VB_Hunger, -1)
                                EndIf
                            Endif
                            Helper:incest += 10
                            Helper:attractiontoplayer += 10
                            Helper:perversion += 10
                                                    
                        Else
                            "<Helper.name> got some cold water and dumped it on me."
                            "It did not work..." 
                            Filter(Solo)
                            Sex(Player)
                            perversion += 10
                            If HungerEnable > 0
                                Player.modifyActorVar(rk_VB_Hunger, -1)
                            EndIf
                                    
                        Endif 
                        
                    Endif
                    
                Endif
            
            Elseif 2
                "I make a run for it."
                setBackground(toilets)
                1:: "Give in"
                2:: [intelligence > 45 && karma > 25]:: "Try to resist now."
                
                If 2
                    "I resisted the elf's magic this time."
                    perversion -= 5
                    arousal -= Random(0, 90) 
                    
                Else
                    "I could not fight my urgess any longer."
                    "And start masturbating right there."
                    Filter(Solo)
                    Sex(Player)
                    perversion += 5
                    "At least no one saw me." 
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -1)
                    EndIf
                    
                Endif
                
            Else
                "I could not fight my urgess any longer."
                "And start masturbating right there."
                Filter(Solo)
                Sex(Player)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -1)
                EndIf
                perversion += 10
                Strange = getCompanion()
                If !Strange.isValid()
                    Strange = generatePersonTemporary()
                    While !Strange.isInterestedIn(Player) || Strange:age > 35
                        Strange = generatePersonTemporary()
                    endWhile
                    Strange.randomizeHairs()
                    Strange.randomizeSexy()
                    Strange.randomizeFace()
                    Strange.dress()
                Endif
                Love = 0
                Love += Strange:attractiontoplayer
                Love += Strange:incest
                Love += Strange:perversion
                If Random(150, 250) < Love && Player.isInterestedIn(Strange) && [isModEnabled(vin_Incest) || !Strange.isRelative()]
                    Strange.show()
                    "No longer able to hold back <Strange.his_or_her> arousal, a <Strange.name> approaches me ..."
                    0:: "Yes"
                    1:: "No"
                    
                    If 0
                        Filter()
                        Sex(Player, Strange)
                        perversion += 10
                        Strange:incest += 10 
                        Strange:perversion += 10 
                        Strange:attractiontoplayer += 10
                        If HungerEnable > 0
                            Player.modifyActorVar(rk_VB_Hunger, -1)
                        EndIf
                    Endif 
                    
                Endif
                
            Endif
            
        Endif
        
    SceneEnd() // Improved by Raddeck
    timeout(300, fantasy_Elf_Cursed)