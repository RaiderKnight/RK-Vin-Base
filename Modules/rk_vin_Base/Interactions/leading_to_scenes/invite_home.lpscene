WHAT: none
WHERE: none
WHEN: 0 - 24
WHO: none
OTHER: none

    SceneStart()
    
        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        If Actor.isEmployee() || [Actor.isColleague() && jobexperience - Actor:jobexperience > 30]
            Subor = true
        Else
            Subor = false
        Endif
        Player(Flirty)::"Hi, I was wondering if you would like to visit my house?" //Edit Raddeck
        interpersonal += 1 //Edit Raddeck
        If Actor.isDating() || Actor.isRelative() || [Random(30, 100) < interpersonal && [Actor:rapportwithplayer > 30 || Actor:attractiontoplayer > 30]] || [Subor && [Actor:rapportwithplayer > 20 || Actor:attractiontoplayer > 20 || Actor:masochist > 20]]
            Actor(Happy):: "Of course, let's go back to your place and chill."
            If Subor
                "Of course, I can't tell if <Actor.he_or_she> actually wants to spend time with me so privately outside of work or just feels obliged to, fearing that rejecting me could affect <Actor.his_or_her> job. I guess I'll find out soon enough"
            Endif
            moveTo(home)
            setBackgroundCustom(livingroom)
            "We're now inside the apartment."
            Actor.show()
            Player.show()
            choice = -1    
            ate = false
            hadSex = false    
            Vanilla = IsModEnabled(vin_VanillaRealistic)
            MyHome = true
            
            While choice < 98
                Kissed = false
                MeKissed = false
                "What should I suggest to <Actor.name> that we do?"
                0:: "Chat"
                1:: !ate && stock_snack > 0.8:: "Eat something together"
                2:: stock_movie > 0.8 :: "Watch a movie"
                21:: "Watch TV" //Edit Raddeck
                22:: stock_movie > 0.8 :: "Watch a porn movie" //Edit Raddeck
                3:: stock_alcohol >= 1.8 :: "Drink alcohol"
                4:: !hadSex:: "Kiss <Actor.him_or_her>"
                50::"Offer sex"
                60::"Ask to stay"
                99:: MyHome:: "Politely ask <Actor.him_or_her> to leave"
            
                If 99
                    "We said goodbye and went our ways."
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -1)
                    EndIf
                    choice = 99
                Else
                    If 0
                    
                        "We simply sat and chat for a while ..."
                        mood += 1
                        Actor:attractiontoplayer += 1
                        Actor:rapportwithplayer += 1
                        passTime(0.1, 0.2)
                        
                    Elseif 1
                    
                        "We made some quick snacks and enjoyed them together ..."
                        ate = true
                        If HungerEnable > 0
            
                            Player.modifyActorVar(rk_VB_Hunger, 5)
                
                        EndIf
                        Actor:attractiontoplayer += 1
                        Actor:rapportwithplayer += 1
                        mood += 1
                        stock_snack -= 1
                        energy += 5
                        passTime(0.2, 0.4)
                        
                    Elseif 2
                    
                        setBackgroundCustom(livingroom)
                        Player.animate(sofawatch)
                        Actor.animate(sofawatch)
                        "We watched a movie together ..."
                        stock_movie -= 1
                        mood += 1
                        Actor:attractiontoplayer += 1
                        Actor:rapportwithplayer += 1
                        If HungerEnable > 0
            
                            Player.modifyActorVar(rk_VB_Hunger, -0.5)
                
                        EndIf
                        energy -= 1
                        passTime(1, 2)
                        Player.animate()
                        Actor.animate()
                        
                    Elseif 21
                        
                        Player.show()
                        Actor.show()
                        setBackgroundCustom(livingroom)
                        Player.animate(sofawatch)
                        Actor.animate(sofawatch)
                        "We watched TV together ..."
                        stock_movie -= 1
                        mood += 1
                        Actor:attractiontoplayer += 1
                        Actor:rapportwithplayer += 1
                        If HungerEnable > 0
            
                            Player.modifyActorVar(rk_VB_Hunger, -0.5)
                
                        EndIf
                        energy -= 1
                        passTime(1, 2)
                        Player.animate()
                        Actor.animate()
                        
                    Elseif 22
                    
                        setBackgroundCustom(livingroom)
                        Player.animate(sofawatch)
                        Actor.animate(sofawatch)
                        "We watched a porn movie together ..."
                        stock_movie -= 1
                        mood += 1
                        
                        If Actor.isInterestedIn(Player)
                            Actor:attractiontoplayer += 1
                            Actor:rapportwithplayer += 1
                            Actor:arousal += 1
                            Actor:perversion += 1
                        Else
                            Actor:attractiontoplayer -= Random(0,10)
                            Actor:rapportwithplayer -= Random(0,10)
                            Actor:arousal -= 1
                            Actor:perversion -= 1
                        EndIf
                        
                        If HungerEnable > 0
                            Player.modifyActorVar(rk_VB_Hunger, -0.5)
                        EndIf
                        energy -= 1
                        passTime(1, 2)
                        Player.animate()
                        Actor.animate()
                        
                    Elseif 3
                    
                        "We had a drink together ..."
                        
                        Player.animate(drinkglass)
                        Actor.animate(drinkglass)
                        "We had a drink alcohol together ..."
                        Player:intoxication += Random(0,10)
                        Actor:intoxication += Random(0,10)
                        stock_alcohol -= 2
                        passTime(0.1, 0.2)
                        Player.animate()
                        Actor.animate()
                        If UrgeToPeeEnable > 0
                            Player.modifyActorVar(rk_VB_UrgeToPee, 1)
                        EndIf
                        
                    Elseif 4
                        Kissed = true
                        MeKissed = true
                    
                    Elseif 50
                        "What should I ask?"
                        51::"Ask for a blowjob"
                        52::"Ask for a Handjob"
                        53::"Ask if <Actor.he_or_she> want a blowjob"
                        54::"Ask if <Actor.he_or_she> want a Handjob"
                        60::"Ask if <Actor.he_or_she> wants to fuck"
                        99::"Nevermind!"
                        
                        If 51
                            If Actor.isInterestedIn(Player) && Actor:arousal > 15
                                Actor(Happy)::"Sure, let's go..."
                                Player:perversion += Random(0, 1)
                                Player.strip()
                                Filter(Blowjob)
                                Sex(Actor, Player)
                                Actor.show(2)
                                "The blowjob was amazing. I put my clothes back on afterwards and we continued our date."
                                Player.dress()
                                Actor.dress()
                                If HungerEnable > 0
                                    Player.modifyActorVar(rk_VB_Hunger, -1)
                                EndIf
                                passTime(0.2, 1.5)
                            Else
                                "Unfortunately for me, <Actor.name> didn't seem interested to give me a blowjob."
                            Endif
                        Elseif 52
                            If Actor.isInterestedIn(Player) && Actor:arousal > 15
                                Actor(Happy)::"Sure, let's go..."
                                Player:perversion += Random(0, 1)
                                Player.strip()
                                Filter(Handjob)
                                Sex(Actor, Player)
                                Actor.show(2)
                                "The handjob was amazing. I put my clothes back on afterwards and we continued our date."
                                Player.dress()
                                Actor.dress()
                                If HungerEnable > 0
                                    Player.modifyActorVar(rk_VB_Hunger, -1)
                                EndIf
                                passTime(0.2, 1.5)
                            Else
                                "Unfortunately for me, <Actor.name> didn't seem interested to give me a handjob."
                            Endif
                        If 53
                            If Actor.isInterestedIn(Player) && Actor:arousal > 15
                                Actor(Happy)::"Sure, let's go..."
                                Player:perversion += Random(0, 1)
                                Actor.strip()
                                Filter(Blowjob)
                                Sex(Player, Actor)
                                Actor.show(2)
                                "<Actor.His_or_Her> <Actor.cock_or_vagina> was tasty and <Actor.slimy_or_juicy>, the must... <Actor.He_or_She> put <Actor.his_or_her> clothes back on afterwards and we continued our date."
                                Player.dress()
                                Actor.dress()
                                If HungerEnable > 0
                                    Player.modifyActorVar(rk_VB_Hunger, -1)
                                EndIf
                                passTime(0.2, 1.5)
                            Else
                                "Unfortunately for me, <Actor.name> didn't seem interested to give me a blowjob."
                            Endif
                        Elseif 54
                            If Actor.isInterestedIn(Player) && Actor:arousal > 15
                                Actor(Happy)::"Sure, let's go..."
                                Player:perversion += Random(0, 1)
                                Actor.strip()
                                Filter(Handjob)
                                Sex(Player, Actor)
                                Actor.show(2)
                                "<Actor.His_or_Her> <Actor.cock_or_vagina> was <Actor.hard_or_soft> and <Actor.slimy_or_juicy>. <Actor.He_or_She> put <Actor.his_or_her> clothes back on afterwards and we continued our date."
                                Player.dress()
                                Actor.dress()
                                If HungerEnable > 0
                                    Player.modifyActorVar(rk_VB_Hunger, -1)
                                EndIf
                                passTime(0.2, 1.5)
                            Else
                                "Unfortunately for me, <Actor.name> didn't seem interested to give me a handjob."
                            Endif
                        Elseif 60
                            If Actor.isInterestedIn(Player) && Actor:arousal > 15
                                Actor(Happy)::"Sure, let's go..."
                                Player:perversion += Random(0, 1)
                                Player.strip()
                                Actor.strip()
                                Sex(Player, Actor)
                                Actor.show(2)
                                "The sex was amazing. We put our clothes back on afterwards and continued our date."
                                Player.dress()
                                Actor.dress()
                                If HungerEnable > 0
                                    Player.modifyActorVar(rk_VB_Hunger, -2)
                                EndIf
                                passTime(0.2, 1.5)
                            Else
                                "Unfortunately for me, <Actor.name> didn't seem interested to fuck."
                            Endif
                        Endif
                    ElseIf 60
                        Actor.startDate()
                        SceneEnd()
                    Endif // End me
                    If Kissed || [Actor.isInterestedIn(Player) && !hadSex && Actor:attractiontoplayer > Random(0, 200)]
                        If MeKissed
                            "I decided to kiss <Actor.him_or_her> ..."
                        Else
                            "<Actor.name> decided to kiss me..."
                        Endif
                        AnimatePair(Player, Actor, Kissing)
                        Player(Kiss):: "..."
                        Actor(Kiss):: "..."
                        
                        If Actor.isDating()
                            "We kissed. It started slow but soon became more passionate. It was obvious what we both wanted ..."
                        Else
                            "We had a kiss, an awkward one at first, but soon moving towards a more passionate direction."
                        Endif
                        "Should I let this escalate further?"
                        0:: Vanilla:: "Make out"
                        1:: "Stop"
                    
                        If 0
                            If Actor.isDating() || [Actor.isInterestedIn(Player) && [Actor.IsDominantSex(Player) || Actor:attractiontoplayer + Actor:perversion > Random(50, 200) || Actor:intoxication > 80]]
                                "Our kiss got more and more steamy and soon we were making out, our hands all over each other."
                                If TfGame() && Actor.isMale()
                                    "I'm a man trapped inside a woman's body. I don't think I'm gay, but here I am, about to hook up with my male date."
                                Endif
                                hadSex = true
                                Player:perversion += Random(0, 1)
                                Player.strip()
                                Actor.strip()
                                Sex(Player, Actor)
                                Actor.show(2)
                                "The sex was amazing. We put our clothes back on afterwards and continued our date."
                                Player.dress()
                                Actor.dress()
                                If HungerEnable > 0
                                    Player.modifyActorVar(rk_VB_Hunger, -2)
                                EndIf
                                passTime(0.2, 0.5)
                            Else
                                "Unfortunately for me, <Actor.name> didn't seem interested in letting things escalate any further and pulled away."
                            Endif
                            
                        Else
                            "I decided to stop it there and not go any further."
                        Endif
                    Elseif Random(0, 100) < 20
                        If Actor.isDating()
                            "After a while, we were both exhausted and went to bed together for the night."
                            passTime(4, 8)
                            energy += Random(50, 100)
                            "The next morning ..."
                            If MyHome
                                Actor(Happy):: "I've gotta go now, honey. Thanks for letting me stay the night. I can't wait to see you again soon!"
                            Else
                                Player(Happy):: "I've gotta go now, honey. Thanks for letting me stay the night. I can't wait to see you again soon!"
                            Endif
                            Actor:attractiontoplayer += Random(0, 1)
                        Else
                            If MyHome
                                Actor(Happy):: "I've gotta go now. Thank you for inviting me in."
                                Player(Happy):: "Alright. Thank you for staying. Goodbye!"
                            Else
                                Actor(Happy):: "It has been a great day, but I'm getting quite tired now. Do you mind ..."
                                "Getting the message from <Actor.name>, I said goodbye."
                            Endif
                            "We parted ways."
                            choice = 99
                        Endif
                        choice = 5            
                    Endif        
                Endif
            Endwhile
        Else
            If Subor
                Actor(Sad):: "Sorry, I don't feel like I should go home with you. It's rather unprofessional, you being my boss after all ...  People may gossip ..."        
            Else
                Actor(Sad):: "Sorry, I don't feel like I know you enough to go home with you."
            Endif
            Actor:attractiontoplayer += Random(-1, 1)
        Endif
    SceneEnd() // Scene improved by: Raddeck