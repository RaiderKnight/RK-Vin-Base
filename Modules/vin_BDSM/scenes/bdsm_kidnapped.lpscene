WHAT: sleep, sleep_hotel, nap, nap_hotel
WHERE: all
WHEN: 0-24
WHO: none
OTHER: !Player.isMale() && isModEnabled(vin_NonConsensual)

    SceneStart()
        
        IBuyaASys = rk_VB_IBuyaASys.getGlobal()
        AlarmEnable = rk_VB_AlarmEnable.getGlobal()
        If IBuyaASys > 0
            KRisk = 0
            If IBuyaASys == 1
                KRisk = 50
            Elseif IBuyaASys == 2
                KRisk = 75
            Elseif IBuyaASys == 3
                KRisk = 90
            Endif
        Endif
        KidnapAttemp = random(0, 100)
        
        If [KRisk > KidnapAttemp] && AlarmEnable > 0
            "All of a sudden the alarm system starts ringing."
            Player(Curious):: "WTF, well, let's go see what's going on!"
            Player(Curious):: "Hum, I can't see anything!"
            Player(Curious):: "Let's hope it was just an animal..."
        Else
            Hunger = Player.getActorVar(rk_VB_Hunger)
            HungerEnable = rk_VB_EnableHunger.getGlobal()
            UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
            UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
            Player.closeEyes(true)
            "I'm deep in my sleep ..."
            setBackground(street)
            Actor = generatePersonTemporary()
            While !Player.isInterestedIn(Actor)
                Actor = generatePersonTemporary()
            Endwhile
            Actor.makeInterestedIn(Player)
            Actor.show()
            Actor.moveToPersonStand(Player)
            "Unbeknown to me, I was kidnapped and taken to some sort of dungeon ..."
            Player.dressBondage()
            Player.dressBondage(Handcuffs)
            "My kidnapper put some bondage clothes on me to restrain me ... <Actor.He_or_She> was clearly getting off on this."
            Player.closeEyes(false)
            Actor(Happy):: "Wakey, wakey, <Player.handsome_or_beautiful>!"
            Player(Curious):: "What!? Where am I?"
            Actor(Happy):: "In my dungeon my dear, now it's time to get fucked ..."
            0:: "Struggle out of my restrains"
            1:: "Submit"
            
            If 0 && Random(0, 200) < fitness + martial
                Player.clearBondage()
                "I managed to break free of the most important restrains holding me in place ..."
                Actor.hide()
                If energy < 50 && random(0, 10) > 6
                    "I then ran away to managed to leave my kidnapper far behind ..."
                    "But I fell,... I was too exhausted to run."
                    "The noise immediately attracted the attention of the kidnapper, who arrived right away to take me back and fuck me as <Actor.he_or_she> had promised before!"
                    Sex(Actor, Player)
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -3)
                    EndIf
                    mood -= 5
                    masochist += 1
                    sneak -= 1
                Else
                    sneak += 1
                    "I then ran away and after a while I managed to leave my kidnapper far behind ..."
                    "Phew, that was a close call ..."
                Endif
            Else
                "Unfortunately, the bondage gear that my kidnapper put on me held me tightly in place and despite my best effort, I couldn't break free ..."
                "I have no choice but endure a night with my kidnapper, letting <Actor.him_or_her> do whatever <Actor.he_or_she> wants ..."
                Sex(Actor, Player)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -3)
                EndIf
                mood -= 5
                masochist += 1
            Endif
        Endif
    SceneEnd() // scene improved by Raddeck
    timeout(300, bdsm_kidnapped)