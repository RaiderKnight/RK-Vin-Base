WHAT: all, -sleep
WHERE: home
WHEN: 16-10
WHO: none
OTHER: !isWithCompanion 

    secTenantID = RE_second_Tenant.getGlobal()
    thirdTenantID = RE_third_Tenant.getGlobal()
    TenantA = getSpecific(secTenantID)
    TenantB = getSpecific(thirdTenantID)
    
    // Calculate the current time in days
    // We use the players age for that
    // It is incremented by 1/365 every day
    daysSinceBirth = (Player:Age * 365)
    daysSinceBirth += 0.5
    daysSinceBirth = daysSinceBirth.round()
    daysSinceBirth -= 1
    
    If TenantA.isValid() && TenantB.isValid()
        // Both are available
        If Random(0,10)>5
            Tenant = TenantA
            TenantB.saveAndDelete() // need to get rid of one
        Else
            Tenant = TenantB
            TenantA.saveAndDelete() // need to get rid of one
        EndIf
    ElseIf TenantA.isValid()
        Tenant = TenantA
    ElseIf TenantB.isValid()
        Tenant = TenantB
    EndIf
    
    If Tenant.isValid()
        SceneStart()
            "You hear a voice coming from your bathroom. Maybe one of your tenants is using it?"
            0::"Check the bathroom"
            1::"Ignore it"
            
            If 0 
                // Get tenant kinks
                tenantClothingStyle = Tenant.getActorVar(RE_home_clothing)
                tenantNoDoorLocking = Tenant.getActorVar(RE_dont_lock_doors)
                
                chance = Random(0,10)
                
                If tenantNoDoorLocking == 0 && chance <=6   // 60%
                    "The door is locked. You can't get in."
                    
                    // spy cam support
                    hasCam = RE_has_spy_cam_bathroom.getGlobal()
                    If hasCam == 0
                        "A spy cam could help you to see whats happening in the bathroom."
                    EndIf
                    
                    0::"Peek through the keyhole"
                    1::hasCam>0::"Check the camera"
                    2::"Go back"
                    
                    If 0||1
                        viewMode = choice
                        
                        // Move to the room
                        setBackground3D(Modules/nn_HomeExpander/Rooms/re_bathroom.lpworld)
                        Player.hide()
                        Player:arousal += Random(2,5)
                        
                        chance = Random(0,10)
                        
                        If tenantClothingStyle == 2 || chance<=1   // 10%
                            // Show up naked
                            Tenant.strip()
                        Else
                            // Show up in underwear
                            If Tenant.isMale()
                                Tenant.dressExcept(Outerwear, Top, Bottom, Foot, Headwear)
                            Else
                                // dressExcept produces ugly results for girls in version 3.17 at least
                                Random
                                    Tenant.dress(Cool-Bra_1_F,Cool-Panties_1_F)
                                    Tenant.dress(Cool-Bra_1_F,Cool-Panties_2_F)
                                    Tenant.dress(Cool-Bra_1_F,Appealing-Panties_1_F)
                                    Tenant.dress(Cool-Bra_1_F,Appealing-Panties_2_F)
                                    Tenant.dress(Cool-Bra_1_F,Appealing-Panties_3_F)
                                    Tenant.dress(Cool-Bra_1_F,Appealing-Panties_4_F)
                                    Tenant.dress(Cool-Bra_2_F,Cool-Panties_1_F)
                                    Tenant.dress(Cool-Bra_2_F,Cool-Panties_2_F)
                                    Tenant.dress(Cool-Bra_2_F,Appealing-Panties_1_F)
                                    Tenant.dress(Cool-Bra_2_F,Appealing-Panties_1_F,Stockings_2_F)
                                    Tenant.dress(Cool-Bra_2_F,Appealing-Panties_2_F)
                                    Tenant.dress(Cool-Bra_2_F,Appealing-Panties_2_F,Stockings_2_F)
                                    Tenant.dress(Cool-Bra_2_F,Appealing-Panties_3_F)
                                    Tenant.dress(Cool-Bra_2_F,Appealing-Panties_3_F,Stockings_2_F)
                                    Tenant.dress(Cool-Bra_2_F,Appealing-Panties_4_F)
                                    Tenant.dress(Cool-Bra_2_F,Appealing-Panties_4_F,Stockings_2_F)
                                    Tenant.dress(Cool-Bra_3_F,Cool-Panties_1_F)
                                    Tenant.dress(Cool-Bra_3_F,Cool-Panties_2_F)
                                    Tenant.dress(Cool-Bra_3_F,Appealing-Panties_1_F)
                                    Tenant.dress(Cool-Bra_3_F,Appealing-Panties_2_F)
                                    Tenant.dress(Cool-Bra_3_F,Appealing-Panties_3_F)
                                    Tenant.dress(Cool-Bra_3_F,Appealing-Panties_4_F)
                                EndRandom
                            EndIf
                        EndIf
                        Tenant.show(0,0,0)        // show up 
                        
                        Random
                            Tenant.animate(toilet)
                            Tenant.animate(bathe)
                            Tenant.animate(makeup)
                        EndRandom
                        
                        If viewMode==0  // keyhole
                            cameraMove(42,0,600)
                            cameraFocus(0,0,600)
                            // TODO: cameraLock()
                        ElseIf viewMode==1  // camera
                            cameraMove(-42,-40,1800)
                            cameraFocus(0,0,600)
                            // TODO: cameraLock()
                        EndIf
                        
                        chance = Random(0,10)
                        If chance <= 1
                            Tenant.strip()
                            Tenant.animate(masturbate)
                            "<Tenant.Name> seems to be enjoying <Tenant.himself_or_herself>..."
                            sex(Tenant)
                            Player:arousal += Random(5,10)
                            passTime(0.25,1)
                        ElseIf viewMode == 0 && chance >=6
                            "<Tenant.Name> noticed something at the door. You try to run away..."
                            SneakGame()
                            If Random(0, 100) < sneak
                                "<Tenant.Name> did not notice you!"
                            Else
                                Random
                                    Tenant(confused)::"Hey <Player.Name>! Have you been trying to peek on me?!"
                                    Tenant(confused)::"<Player.Name> what are you doing at the bathroom door?"
                                    Tenant(confused)::"<Player.Name> did you try to peek on me?"
                                    Tenant(confused)::"Ey <Player.Name> you did not try to peek on me right?"
                                EndRandom
                                Tenant:rapportwithplayer-=Random(0,2)
                            Endif
                        Else
                            "Nothing exciting going on in there..."
                        EndIf
                        
                        Tenant.hide()
                        Player.show()
                        
                        // Reset the cam
                        cameraMove(0,0,800)
                    EndIf
                Else
                    // Move to the room
                    setBackground3D(Modules/nn_HomeExpander/Rooms/re_bathroom.lpworld)
                    
                    Player.animate()
                    Player.show(37,0,0)  // show up at the door
                    Player:arousal += Random(2,5)
                    
                    chance = Random(0,10)
                    If chance <=1
                        // Show up naked
                        Tenant.strip()
                    Else
                        // Show up in underwear
                        If Tenant.isMale()
                            Tenant.dressExcept(Outerwear, Top, Bottom, Foot, Headwear)
                        Else
                            // dressExcept produces ugly results for girls in version 3.17 at least
                            Random
                                Tenant.dress(Cool-Bra_1_F,Cool-Panties_1_F)
                                Tenant.dress(Cool-Bra_1_F,Cool-Panties_2_F)
                                Tenant.dress(Cool-Bra_1_F,Appealing-Panties_1_F)
                                Tenant.dress(Cool-Bra_1_F,Appealing-Panties_2_F)
                                Tenant.dress(Cool-Bra_1_F,Appealing-Panties_3_F)
                                Tenant.dress(Cool-Bra_1_F,Appealing-Panties_4_F)
                                Tenant.dress(Cool-Bra_2_F,Cool-Panties_1_F)
                                Tenant.dress(Cool-Bra_2_F,Cool-Panties_2_F)
                                Tenant.dress(Cool-Bra_2_F,Appealing-Panties_1_F)
                                Tenant.dress(Cool-Bra_2_F,Appealing-Panties_1_F,Stockings_2_F)
                                Tenant.dress(Cool-Bra_2_F,Appealing-Panties_2_F)
                                Tenant.dress(Cool-Bra_2_F,Appealing-Panties_2_F,Stockings_2_F)
                                Tenant.dress(Cool-Bra_2_F,Appealing-Panties_3_F)
                                Tenant.dress(Cool-Bra_2_F,Appealing-Panties_3_F,Stockings_2_F)
                                Tenant.dress(Cool-Bra_2_F,Appealing-Panties_4_F)
                                Tenant.dress(Cool-Bra_2_F,Appealing-Panties_4_F,Stockings_2_F)
                                Tenant.dress(Cool-Bra_3_F,Cool-Panties_1_F)
                                Tenant.dress(Cool-Bra_3_F,Cool-Panties_2_F)
                                Tenant.dress(Cool-Bra_3_F,Appealing-Panties_1_F)
                                Tenant.dress(Cool-Bra_3_F,Appealing-Panties_2_F)
                                Tenant.dress(Cool-Bra_3_F,Appealing-Panties_3_F)
                                Tenant.dress(Cool-Bra_3_F,Appealing-Panties_4_F)
                            EndRandom
                        EndIf
                    EndIf
                    Tenant.show(0,0,0)
                    Tenant.animate()
                    
                    bathroomEncounterCount = Tenant.getActorVar(RE_bathroom_encounters)
                    bathroomEncounterCount += 1
                    Tenant.setActorVar(RE_bathroom_encounters, bathroomEncounterCount)
                    
                    txtAgain = ""
                    If bathroomEncounterCount>1
                        txtAgain = " again"
                    EndIf
                    
                    // "DEBUG: <Tenant.Name>: arousal=<Tenant:arousal> rapport=<Tenant:rapportwithplayer> perversion=<Tenant:perversion> sub-maso=<Tenant:masochist>"
                    
                    Random
                        Tenant.animate(toilet)
                        Tenant.animate(bathe)
                        Tenant.animate(makeup)
                    EndRandom
                    
                    cameraFocus(Tenant)     // broken in LP 3.18
                    
                    If Tenant.isDating()
                        Random
                            Player(Surprised)::"Oh <Tenant.Name>, didn't expect you here..."
                            Player(Surprised)::"Woohps! <Tenant.Name>, you didn't lock the door..."
                            Player(Surprised)::"Ooops. Sorry <Tenant.Name> but the door was't locked."
                            Player(Surprised)::"Hey <Tenant.Name> thought you were in your room..."
                            Player(Surprised)::"Oh sorry <Tenant.Name>, thought the bathroom was empty..."
                        EndRandom
                    ElseIf Tenant:masochist > 0
                        Random
                            Player(Surprised)::"Oh sorry <Tenant.Name>, I did not check if someone was in the bathroom before entering it. I'm really sorry!"
                            Player(Surprised)::"Whoops! Sorry <Tenant.Name>, I did not check if someone was in the bathroom!"
                            Player(Surprised)::"Oh! Sorry <Tenant.Name>, I did not check if the bathroom was occupied!"
                            Player(Surprised)::"Oh damn! Sorry <Tenant.Name>, I should have checked if the bathroom is occupied!"
                            Player(Surprised)::"Ooops. Sorry <Tenant.Name> but the door was not locked!"
                            Player(Surprised)::"Oh sorry <Tenant.Name>, thought the bathroom was empty!"
                        EndRandom
                    Else
                        // Submissive
                         Random
                            Player(Attentive)::"Hey <Tenant.Name>, you forgot to lock the bathroom door<txtAgain>!"
                            Player(Evil)::"<Tenant.Name>, don't you know how to lock a door?"
                            Player(Curious)::"Why didn't you lock the door behind you <Tenant.Name>?"
                            Player(Sarcastic)::"Alright. Is there a bathroom party going on here?"
                            Player(Evil)::"<Tenant.Name>, the door was not locked<txtAgain>!"
                        EndRandom
                    EndIf
                    
                    If Tenant.isDating()
                        If Tenant:arousal>60
                            Random
                                Tenant(Flirty)::"Don't worry honey. Just come in! I got something for you!"
                                Tenant(Kiss)::"Hehe <Player.Name>, just admit you wanted to see me like this! Want some more?"
                                Tenant(Posing)::"Hey <Player.Name>, like what you see? Get in already I got an idea!"
                                Tenant(Posing)::"Ah, <Player.Name> - just come in! I can use your help here!"
                            EndRandom
                            
                            // Move in
                            Player.show(0,0,0)
                            
                            Random
                                Player(Excited)::"Alright <Tenant.Name>, here I am!"
                                Player(Happy)::"Oh <Tenant.Name>, what are you about do to?"
                                Player(Flirty)::"Awww <Tenant.Name>, now I am exited!"
                                Player(Wink)::"Ok, seems that open door was no accident right <Tenant.Name>?"
                                Player(Wink)::"Alright, good that I just came by!"
                                Player(Surprised)::"Oh, alright <Tenant.Name>, here I am."
                                Player(Attentive)::"Sure <Tenant.Name>, whats up?"
                            EndRandom
                            
                            Random
                                Tenant(Flirty)::"I want you to touch my body <Player.Name>."
                                Tenant(Flirty)::"<Player.Name> come over here. I want you now."
                                Tenant(Excited)::"<Player.Name> I need a good fuck right now. Just come here!"
                                Tenant(Excited)::"I'm quite horny right now <Player.Name>. Come over!"
                                Tenant(Grin)::"I bet you came here for just one reason <Player.Name>. Lets do it!"
                                Tenant(Grin)::"I'm really turned on right now. Will you help me with it <Player.Name>?"
                            EndRandom
                            
                            sex(Player, Tenant)
                            Tenant:arousal -= Random(5,25)
                            Tenant:rapportwithplayer += Random(0,2)
                            Tenant:energy -= Random(20,40)
                            Player:energy -= Random(20,40)
                            Player:arousal -= Random(5,25)
                            passTime(0.25,1)
                        Else
                            Random
                                Tenant(Kiss)::"Don't worry honey. Just come in! I'll be done in a minute!"
                                Tenant(Kiss)::"Hey honey! Just give me five more minutes..."
                                Tenant(Peaceful)::"Hey <Player.Name>, no prob. Just come in!"
                                Tenant(Peaceful)::"Hey <Player.Name>, I'm nearly done. Just come in!"
                                Tenant(Serene)::"Ah, <Player.Name> - just come in! I'll be done soon!"
                                Tenant(Serene)::"Hey, <Player.Name> I'm done in five minutes."
                            EndRandom
                            Tenant:arousal += Random(0,3)
                            "<Tenant.Name> wasn't too worried about this encounter. Maybe you should visit <Tenant.o> more often?"
                        EndIf
                    ElseIf bathroomEncounterCount>2 && Tenant:attractiontoplayer > 20 && Tenant:perversion > 50 && Tenant:arousal > 50
                        // "PERVERTED"
                        If Tenant.hadSex()
                            Random
                                Tenant(Flirty)::"Oh hey <Player.Name> - Just come in, I got work for you to do! Come on in!"
                                Tenant(Flirty)::"Hey <Player.Name>! You look like you want to join me!"
                                Tenant(Grin)::"Ah <Player.Name>! Good you are here. Come in!"
                                Tenant(Grin)::"Hmmm <Player.Name>, I know what you came here for! Come in!"
                                Tenant(Grin)::"Hey <Player.Name>, I know what you are looking for. Come on in!"
                                Tenant(Flirty)::"Oh hey <Player.Name>. Just come in!"
                                Tenant(Flirty)::"Hey <Player.Name>! How about you just come in?"
                                Tenant(Grin)::"Ah <Player.Name> - I didn't lock the door, so you can come in as well!"
                                Tenant(Grin)::"Ah it's you <Player.Name>, just join me!"
                                Tenant(Grin)::"Hey <Player.Name>, good you are here. Just come in!"
                            EndRandom
                        Else
                            Random
                                Tenant(Flirty)::"Oh hey <Player.Name>. Erm, mind doing me a favor? Come in please!"
                                Tenant(Flirty)::"Hey <Player.Name>! Want some fun? Just come in, fast!"
                                Tenant(Grin)::"Ah <Player.Name> - I knew you want me. Just come in and close the door behind you!"
                                Tenant(Grin)::"Ah it's you <Player.Name>! Do you want to join me?"
                                Tenant(Grin)::"Hey <Player.Name>, good to see you. Just come in!"
                            EndRandom
                        EndIf
                        
                        "Go in and have some fun with <Tenant.Name>?"
                        0::"Sure. This is what I came here for!"
                        1::"Eww no. What did I expect to happen?"
                        
                        If 0
                            // Move in
                            Player.show(0,0,0)
                            Random
                                Player(Grin):: "<Tenant.Name>, you little perverted <Tenant.bastard_or_bitch>!"
                                Player(Grin):: "I like it when you get dirty <Tenant.Name>!"
                                Player(Excited):: "Oh <Tenant.Name>, you don't have to say that twice!"
                                Player(Excited):: "Awesome. I'll make you happy <Tenant.Name>!"
                                Player(Flirty):: "Alright. Glad you asked!"
                                Player(Flirty):: "Yeah <Tenant.Name>, let me take good care of you!"
                            EndRandom
                            
                            sex(Player, Tenant)
                            Tenant:arousal -= Random(5,25)
                            Tenant:rapportwithplayer += Random(0,2)
                            Tenant:energy -= Random(20,40)
                            Player:energy -= Random(20,40)
                            Player:arousal -= Random(5,25)
                            passTime(0.25,1)
                        Else
                            Random
                                Player(Surprised):: "Ohhh no! Sorry <Tenant.Name>!"
                                Player(Pain):: "Sorry <Tenant.Name>, I dont feel well today!"
                                Player(Drained):: "Erm, <Tenant.Name>, not today. Sorry!"
                            EndRandom
                            Tenant:rapportwithplayer -= Random(0,1)
                            Random
                                Tenant(Bored):: "Bah! You don't know what you are missing!"
                                Tenant(Bored):: "Yeah sure. I'll go find someone else then!"
                                Tenant(Annoyed):: "What? Damn, you are lame!"
                                Tenant(Annoyed):: "So what? I'll have some fun myself then!"
                            EndRandom
                        EndIf
                    ElseIf bathroomEncounterCount>3 && Tenant:attractiontoplayer > 20 && Tenant:arousal > 50 && Tenant:perversion > 20
                        // "AROUSED"
                        Random
                            Tenant(Serene)::"Oh hello <Player.Name>. Sorry that I forgot to lock the door<txtAgain>."
                            Tenant(Serene)::"Hey <Player.Name>! Seems I forgot to lock the door<txtAgain>. Silly me!"
                            Tenant(Serene)::"Oops! I forgot to lock the door<txtAgain> <Player.Name>..."
                            Tenant(Serene)::"Oh it's you <Player.Name>! Hehe, seems I forgot to lock the door<txtAgain>!"
                        EndRandom
                        
                        Random
                            Player(Serene)::"Yeah, sorry, I'll wait..."
                            Player(Serene)::"Sorry, I'll wait outside..."
                            Player(Serene)::"Alright, I'll give you some more minutes..."
                            Player(Serene)::"What do you think when you are done?"
                            Player(Serene)::"Alright. Five more minutes? Or more?"
                        EndRandom
                        
                        Random
                            Tenant(Flirty)::"Nah, as you are already here, just come in!"
                            Tenant(Kiss)::"Oh no, just come in <Player.Name>. Don't mind me OK?"
                            Tenant(Posing)::"Hehe, the bathroom isn too large but I think we both will fit in. Just come in!"
                            Tenant(Posing)::"Oh just come in <Player.Name>. I'm nearly finished!"
                            Tenant(Flirty)::"Just come in. I won't bite!"
                            Tenant(Flirty)::"No, just come in. I'll be brave, I promise!"
                        EndRandom
                        
                        // Move in
                        Player.show(0,0,0)
                        
                        If Tenant:arousal > Random(50,80)
                            If Tenant.hadSex()
                                Random
                                    Tenant(Posing)::"Hey, mind giving me a short massage? My shoulders hurt a little!"
                                    Tenant(Flirty)::"I want you to touch my body <Player.Name>."
                                    Tenant(Flirty)::"<Player.Name> come over here. I want you now."
                                    Tenant(Excited)::"<Player.Name> I need a good fuck right now. Just come here!"
                                    Tenant(Excited)::"I'm quite horny right now <Player.Name>. Come over!"
                                    Tenant(Grin)::"I bet you came here for just one reason <Player.Name>. Lets do it!"
                                    Tenant(Grin)::"I'm really turned on right now. Will you help me with it <Player.Name>?"
                                EndRandom
                            Else
                                Random
                                    Tenant(Posing)::"Hey, mind giving me a short massage? My shoulders hurt a little!"
                                    Tenant(Excited)::"Oh <Player.Name> I really like you. I want more. Is that OK for you?"
                                    Tenant(Excited)::"I know you want me. And I want you as well! Let's just do it!"
                                    Tenant(Grin)::"I bet you came here for just one reason <Player.Name>. As I am already turned on, just lets do it!"
                                    Tenant(Grin)::"I'm really turned on right now <Player.Name>. Can you help me with it <Player.Name>?"
                                    Tenant(Excited)::"<Player.Name> I really need a good fuck now. I want you!"
                                    Tenant(Excited)::"I'm quite horny right now <Player.Name>. I can see you are as well..."
                                EndRandom
                            EndIf
                            
                            sex(Player, Tenant)
                            Tenant:arousal -= Random(5,25)
                            Tenant:rapportwithplayer += Random(0,2)
                            Tenant:energy -= Random(20,40)
                            If Tenant:perversion < 50
                                Tenant:perversion += Random(0,3)
                            EndIf
                            Player:energy -= Random(20,40)
                            Player:arousal -= Random(5,25)
                            
                            passTime(0.25,1)
                        Else
                            Tenant:arousal += Random(1,7)
                            "<Tenant.Name> seems to be quite aroused. Maybe you should pay <Tenant.o> another visit soon?"
                        EndIf
                    ElseIf Tenant:rapportwithplayer > 50 && Tenant:masochist > 0
                        // Won't get mad
                        Random
                            Tenant(Peaceful)::"Oh <Player.Name> - just knock on the door the next time OK?"
                            Tenant(Grin)::"Come on <Player.Name>! I know you just wanted to take a good look, right?"
                            Tenant(Grin)::"Oh, maybe one bathroom is not enough, <Player.Name>? I'll be done in a few minutes."
                            Tenant(Embarassed)::"Ahhhhh!! - Oh its just you <Player.Name>. Seems I forgot to lock the door."
                            Tenant(Peaceful)::"Hehe, well that happens when I don't lock the door. Sorry <Player.Name>!"
                            Tenant(Embarassed)::"Oh, I forgot to lock the door. Its my fault. Sorry <Player.Name>."
                            Tenant(Peaceful)::"Just some more minutes please. I'm nearly finished!"
                        EndRandom
                        Tenant:arousal += Random(0,3)
                        "<Tenant.Name> wasn't too worried about this encounter. Maybe you should visit <Tenant.o> more often?"
                    ElseIf Tenant:masochist < 0
                        Random
                            Tenant(Peaceful)::"Oh! I really forgot to lock the door<txtAgain>. I'm very sorry <Player.Name>."
                            Tenant(Shy)::"Hm, sorry <Player.Name> - it was my fault<txtAgain>!"
                            Tenant(Surprised)::"Oh I'm very sorry <Player.Name>! I really forgot to lock the door<txtAgain>."
                            Tenant(Surprised)::"Eeeeek. I really forgot to lock the door<txtAgain>. Sorry <Player.Name>!"
                        EndRandom
                        
                        If bathroomEncounterCount>1
                            stayInMenu = 1
                            txtSub = ""
                            If Tenant:masochist <= -20
                                txtSub = "quite "
                            ElseIf Tenant:masochist <= -40
                                txtSub = "very "
                            EndIf
                            
                            "Seems <Tenant.Name> is <txtSub>submissive. Make use of this situation?"
                            While stayInMenu == 1
                                0:: Tenant:masochist <= -20 && !Tenant.isNaked() ::"Ask <Tenant.o> to undress."
                                1:: Tenant:masochist <= -40 ::"Ask <Tenant.o> to have sex with you."
                                10:: "Leave the bathroom."
                                
                                If 0
                                    Random
                                        Player(Attentive)::"Well as I am alredy here, mind showig off a little?"
                                        Player(Curious)::"Hm, I want to see what you are hiding there. Remove these clothes for me!"
                                        Player(Evil)::"Pah! You made me come here, now you show me a little something. Get out of your clothes!"
                                        Player(Evil)::"I bet you did want this right? Come on. I want you to undress!"
                                        Player(Evil)::"Well not locking the door must be punished. Strip down your clothes!"
                                    EndRandom
                                    
                                    Random
                                        Tenant(Shy)::"Oh <Player.name> don't be mad with me. Let me do as you requested."
                                        Tenant(Shy)::"Ok, I'm really sorry <Player.name>. I'll do as you ask."
                                        Tenant(Shy)::"Sorry <Player.Name>! Please don't be angry. I'll do as you demand!"
                                        Tenant(Shy)::"I'm terribly sorry! I'll get out of my clothes for you!"
                                        Tenant(Shy)::"Sorry, sorry, sorry <Player.Name>. I'll be naked for you!"
                                    EndRandom
                                    
                                    Tenant.strip()
                                    
                                    Random
                                        Player(Evil)::"Good <Tenant.boy_or_girl>!"
                                        Player(Evil)::"Alright little stupid. Show me your body!"
                                        Player(Evil)::"Hurry! I don't have all the day!"
                                    EndRandom
                                    Tenant:masochist -= Random(1,4)
                                    Player:arousal += Random(5,10)
                                    If Tenant:perversion < 40
                                        Tenant:perversion += Random(0,3)
                                    EndIf
                                ElseIf 1
                                    Random
                                        Player(Evil)::"Alright this needs some punishment! Come here!"
                                        Player(Furious)::"Well, seems you want some more, right?"
                                        Player(Evil)::"Heh, I see you are begging for some more?"
                                        Player(Evil)::"I want to fuck you right here. Come on!"
                                        Player(Evil)::"You deserve some good fucking. Come over!"
                                    EndRandom
                                
                                    Tenant:masochist -= Random(1,4)
                                    
                                    sex(Player, Tenant)
                                    Tenant:arousal -= Random(5,25)
                                    Tenant:rapportwithplayer -= Random(0,1)
                                    Tenant:energy -= Random(20,40)
                                    If Tenant:perversion < 50
                                        Tenant:perversion += Random(0,3)
                                    EndIf
                                    Player:energy -= Random(20,40)
                                    Player:arousal -= Random(5,25)
                                    passTime(0.25,1)
                                Else
                                    Random
                                        Player(Angry)::"Ok, next time lock that damn door alright?"
                                        Player(Evil)::"Well lets see what happens next time you forget to lock that door!"
                                        Player(Evil)::"Alright, just leave the bathroom tidy."
                                        Player(Evil)::"Heh, lets see which door you forget to lock next..."
                                        Player(Evil)::"Hm, alright. Next time close the door. OK?"
                                        Player(Evil)::"You got 5 minutes. Then the room will be free."
                                    EndRandom
                                    
                                    Tenant:masochist -= Random(1,4)
                                    
                                    stayInMenu = 0
                                EndIf
                            EndWhile
                        Else
                            Random
                                Player(Angry)::"Ok, next time lock that damn door alright?"
                                Player(Evil)::"Well lets see what happens next time you forget to lock that door!"
                                Player(Evil)::"Alright, just leave the bathroom tidy."
                                Player(Evil)::"Heh, lets see which door you forget to lock next..."
                                Player(Evil)::"Hm, alright. Next time close the door. OK?"
                                Player(Evil)::"I'll give you 5 minutes..."
                            EndRandom
                            
                            "Seems <Tenant.Name> is submissive. I definitely should come back soon!"
                        EndIf
                    Else
                        // Will get angry
                        Random
                            Tenant(Angry)::"Well, next time better knock on the door OK?"
                            Tenant(Angry)::"Shit! Why didn't you knock the door?"
                            Tenant(Angry)::"Yeah sure. Ever heard of knocking at the door before entering a room?"
                            Tenant(Embarassed)::"Ahhhhh!! - Damn <Player.Name>! You scared me! Please knock beofre entering the bathroom!"
                            Tenant(Scared)::"Eeeeek!! - Fuck <Player.Name> why don't you knock beofre entering the bathroom?!"
                        EndRandom
                        Tenant:rapportwithplayer -= Random(0,3)
                        "Oops... <Tenant.Name> wan't very happy about your visit. You need to increase <Tenant.p> rapport with you."
                    EndIf
                    
                    passTime(0.25,0.5)
                    
                    // Bathroom party quest
                    questStartDate = HE_bathroomparty_quest_start_date.getGlobal()
                    If questStartDate > 0
                        bathroom_encounters_quest = Player.getActorVar(RE_bathroom_encounters_quest)
                        bathroom_encounters_quest += 1
                        Player.setActorVar(RE_bathroom_encounters_quest, bathroom_encounters_quest)
                        
                        delta = daysSinceBirth - questStartDate
                        // "DEBUG: Bathroom party quest active! delta=<delta>, count=<bathroom_encounters_quest>"
                        
                        If bathroom_encounters_quest >= 100
                            
                            If delta <= 20
                                // YAY
                                reward = 30000
                                rewardLocal = reward.convertToLocalCurrency()
                                "YEAH! You just made it! This was the 100th time you checked on your tenants in the bathroom within 20 days!"
                                "You just earned <rewardLocal>! Congratulations!!"
                                "By the way: You can repeat this quest any time!"
                                Player:money += reward
                                Player:perversion += 5
                            Else
                                reward = 5000
                                rewardLocal = reward.convertToLocalCurrency()
                                "UUHHH! This was the 100th time you checked on your tenants in the bathroom!"
                                "Sadly it took you <delta> days to finish this quest. The maximum timespan was 20 days."
                                "But listen up! I'll give you <rewardLocal> for your efforts and want you to try again!"
                                Player:money += reward
                                Player:perversion += 5
                            EndIf
                            
                            HE_bathroomparty_quest_start_date.setGlobal(0)
                            
                            questEnd()
                        Else
                            deltaVisits = 100 - bathroom_encounters_quest
                            deltaDays = 20 - delta 
                            
                            "QUEST HINT: You need to chek <deltaVisits> times to complete the quest. <deltaDays> days remain."
                        EndIf // quest won?
                    EndIf   // quest start date
                EndIf   // door locked/unlocked
            EndIf   // check bathroom
        SceneEnd()
    EndIf
    
    timeout(12, nn_he_random_bath_encounter) // cooldown on the scene appearing again