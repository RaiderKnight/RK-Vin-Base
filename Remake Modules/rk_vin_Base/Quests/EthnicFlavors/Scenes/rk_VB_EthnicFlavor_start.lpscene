WHAT: none
WHERE: none
WHEN: 0-24
WHO: none
OTHER: none

    SceneStart()
        If isWithCompanion()
            Player(Happy)::"Sorry babe but I have to go somewhere, I'll be back soon!"
            endDate()
        EndIf
        BaizGratis = Player.getActorVar(rk_VB_EthnicFlavor_BaizGratis)
        If !isAtHome()
            "You must be at home before calling an escort!"
            SceneEnd()
        ElseIf isModEnabled(rk_vin_Base)
            loto649 = random(24000, 50000)
            loto649lo = loto649.convertToLocalCurrency()
            Choice1 = random(3, 6)
            Choice11 = random(3, 6)
            Choice2 = random(6, 12)
            Choice21 = random(6, 12)
            Choice3 = random(0, 5)
            reminder = false
            Hunger = Player.getActorVar(rk_VB_Hunger)
            HungerEnable = rk_VB_EnableHunger.getGlobal()
            UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
            UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
            FCKAsian = rk_VB_FCKAsianQST.getGlobal()
            FCKIndian = rk_VB_FCKIndianQST.getGlobal()
            FCKLatin = rk_VB_FCKLatinQST.getGlobal()
            FCKBlack = rk_VB_FCKBlackQST.getGlobal()
            FCKArab = rk_VB_FCKArabQST.getGlobal()
            FCKWhite = rk_VB_FCKWhiteQST.getGlobal()
            FCKAsianVal = Player.getActorVar(rk_VB_EthnicFlavor_AsianVal)
            FCKIndianVal = Player.getActorVar(rk_VB_EthnicFlavor_IndianVal)
            FCKLatinVal = Player.getActorVar(rk_VB_EthnicFlavor_LatinVal)
            FCKBlackVal = Player.getActorVar(rk_VB_EthnicFlavor_BlackVal)
            FCKArabVal = Player.getActorVar(rk_VB_EthnicFlavor_ArabVal)
            FCKWhiteVal = Player.getActorVar(rk_VB_EthnicFlavor_WhiteVal)
            RefuNomb = Player.getActorVar(rk_VB_EthnicFlavor_RefuNomb)
            ToFCKcount1 = FCKAsianVal + FCKIndianVal + FCKLatinVal + FCKBlackVal + FCKArabVal + FCKWhiteVal
            ToFCKcount2 = FCKAsian + FCKIndian + FCKLatin + FCKBlack + FCKArab + FCKWhite
            EtcFvr = rk_VB_EthnicFlavor_start.getGlobal()
            PAgeQ = Player:age
            RPAgeQ = PAgeQ*365
            RPAgeQ = RPAgeQ.round()
            TQuestS = Player.getActorVar(rk_VB_TQSEthnicFlavor)
            OnContinue = false
            TPass = Player.getActorVar(rk_VB_TQPEthnicFlavor)
            QStart = RPAgeQ*2
            EFWinCount = Player.getActorVar(rk_VB_EthnicFlavor_count) //#de fois gagner le quest
            DoPassed = false
            okTimePassed = false
            winYesTrue = false
            winYesFalse = false
        EndIf
        If isModEnabled(rk_vin_Base)
            If ToFCKcount2 <= 11
                //checkup
                If FCKAsianVal >= 2
                    rk_VB_FCKAsianQST.setGlobal(2)
                EndIf
                If FCKIndianVal >= 2
                    rk_VB_FCKIndianQST.setGlobal(2)
                EndIf
                If FCKLatinVal >= 2
                    rk_VB_FCKLatinQST.setGlobal(2)
                EndIf
                If FCKBlackVal >= 2
                    rk_VB_FCKBlackQST.setGlobal(2)
                EndIf
                If FCKArabVal >= 2
                    rk_VB_FCKArabQST.setGlobal(2)
                EndIf
                If FCKWhiteVal >= 2
                    rk_VB_FCKWhiteQST.setGlobal(2)
                EndIf
            Else
                DoPassed = true
            EndIf    
            FCKAsianVal = Player.getActorVar(rk_VB_EthnicFlavor_AsianVal)
            FCKIndianVal = Player.getActorVar(rk_VB_EthnicFlavor_IndianVal)
            FCKLatinVal = Player.getActorVar(rk_VB_EthnicFlavor_LatinVal)
            FCKBlackVal = Player.getActorVar(rk_VB_EthnicFlavor_BlackVal)
            FCKArabVal = Player.getActorVar(rk_VB_EthnicFlavor_ArabVal)
            FCKWhiteVal = Player.getActorVar(rk_VB_EthnicFlavor_WhiteVal)
            If TPass > 0
                If RPAgeQ <= TPass && ToFCKcount2 >= 12
                    winYesTrue = True
                ElseIf RPAgeQ >= TPass && ToFCKcount2 <= 11
                    winYesFalse = True
                EndIf
            EndIf
        EndIf
        If winYesFalse
            Player.setActorVar(rk_VB_TQSEthnicFlavor, 0)
            Player.setActorVar(rk_VB_TQPEthnicFlavor, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_BaizGratis, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_RefuNomb, 0)
            rk_VB_EthnicFlavor_start.setGlobal(0)
            rk_VB_FCKAsianQST.setGlobal(0)
            rk_VB_FCKIndianQST.setGlobal(0)
            rk_VB_FCKLatinQST.setGlobal(0)
            rk_VB_FCKBlackQST.setGlobal(0)
            rk_VB_FCKArabQST.setGlobal(0)
            rk_VB_FCKWhiteQST.setGlobal(0)
            "Bad news, you lost this mission!"
            interpersonal -= Choice21
            masochist += Choice3
            perversion -= Choice2
            Player.setActorVar(rk_VB_EthnicFlavor_AsianVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_IndianVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_LatinVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_BlackVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_ArabVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_WhiteVal, 0)
            mood -= 5
            "Your stats have been affected a bit!"
            0::"Interpersonal: -<Choice21>"
            0::"Masochist: +<Choice3>"
            0::"Perversion: -<Choice2>"
            99::"Back to the Game!"
            
            "Better luck next time!"
        ElseIf winYesTrue
            Player.setActorVar(rk_VB_TQSEthnicFlavor, 0)
            Player.setActorVar(rk_VB_TQPEthnicFlavor, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_BaizGratis, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_RefuNomb, 0)
            rk_VB_EthnicFlavor_start.setGlobal(0)
            rk_VB_FCKAsianQST.setGlobal(0)
            rk_VB_FCKIndianQST.setGlobal(0)
            rk_VB_FCKLatinQST.setGlobal(0)
            rk_VB_FCKBlackQST.setGlobal(0)
            rk_VB_FCKArabQST.setGlobal(0)
            rk_VB_FCKWhiteQST.setGlobal(0)
            "Congratulations on winning this mission!"
            Player.modifyActorVar(rk_VB_EthnicFlavor_count, 1)
            interpersonal += Choice2
            masochist -= Choice3
            intelligence += Choice1
            fitness += Choice21
            muscle += Choice11
            Player.setActorVar(rk_VB_EthnicFlavor_AsianVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_IndianVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_LatinVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_BlackVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_ArabVal, 0)
            Player.setActorVar(rk_VB_EthnicFlavor_WhiteVal, 0)
            mood += Choice2
            perks += 5
            questEnd()
            "Nice job!"
            "You have earned a nice amount of <loto649lo> and 5 points have been added to your Perks. Some of your stats have been boosted a bit!"
            0::"Fitness: +<Choice2>"
            0::"Interpersonal: +<Choice21>"
            0::"Intelligence: +<Choice1>"
            0::"Masochist: -<Choice3>"
            0::"Muscle: +<Choice11>"
            0::"Perks: +5"
            99::"Back to the Game!"

        ElseIf EtcFvr == 1
            "Back for your mission of ethnic flavors!"
            0::"== Your actual progression =="
            0::"You have fucked <FCKArabVal> arabs"
            0::"You have fucked <FCKAsianVal> asians"
            0::"You have fucked <FCKBlackVal> blacks"
            0::"You have fucked <FCKIndianVal> indian"
            0::"You have fucked <FCKLatinVal> latin"
            0::"You have fucked <FCKWhiteVal> white"
            99::"Continue"
            
            If 99
                OnContinue = true
            EndIf
        Else
            If EFWinCount >= 1
                "Back for a new mission to discover the ethnic flavors of your region!"
                "Perfect, but here is a reminder..."
                reminder = true
            EndIf
            If isModEnabled(rk_vin_Base)
                If !reminder
                    "You have a mad desire to fuck with all ethnicities."
                EndIf
                "Your mission is to fuck 2 escort girls/guys of each ethnicity in 1 year."
                "If you fail in your mission, you will definitely lose some stats."
                "If you win, however, you will gain bonus stats, perks and money."
                "Should I start this Quest?"
                0::"Yes"
                1::"Later"

                If 0
                    Player.setActorVar(rk_VB_TQSEthnicFlavor, RPAgeQ)
                    Player.setActorVar(rk_VB_TQPEthnicFlavor, QStart)
                    rk_VB_EthnicFlavor_start.setGlobal(1)
                    OnContinue = true
                EndIf
            EndIf
        EndIf
        If OnContinue
            //followUp(rk_VB_EthnicFlavor_search)
            timeout(100, rk_VB_EthnicFlavor_start)
            followUp(rk_VB_EthnicFlavor_LocSet)
        EndIf
    SceneEnd()