WHAT: all
WHERE: library
WHEN: 0 - 24
WHO: none
OTHER: !Player.isFemale() && Player.isRace(Orc) && [Player.isInterestedInWomen() || Player.isInterestedInTrans()] && intelligence > 80 && PercentageElves > 0 && isModEnabled(vin_Pregnancy)

    SceneStart()
        Actor99 = generatePersonTemporary()
        Actor99.hide()
        Actor2 = getPerson(true)
        While !Actor2.isRace(Elf)
            Actor2 = getPerson(true)
        EndWhile
        
        If !Actor2.isValid()           
            Actor2 = generatePersonTemporary()
            While Actor2.isMale()
                Actor2 = generatePersonTemporary()
            EndWhile
            Actor2.blendPreset(Elf)
            Actor2:attractiveness => random(65, 80)
            Actor2:intelligence => random(40, 100)
            Actor2.makeInterested(Player)
        EndIf
        
        Actor3 = generatePersonTemporary()
        While Actor3.isMale()
            Actor3 = generatePersonTemporary()
        EndWhile
        Actor3.blendPreset(Elf)
        Actor3:attractiveness => random(65, 80)
        Actor3:intelligence => random(40, 100)
        Actor3.makeInterested(Player)
        
        Actor4 = generatePersonTemporary()
        While Actor4.isMale()
            Actor4 = generatePersonTemporary()
        EndWhile
        Actor4.blendPreset(Elf)
        Actor4:attractiveness => random(65, 80)
        Actor4:intelligence => random(40, 100)
        Actor4.makeInterested(Player)
        Actor2.hide()
        Actor3.hide()
        Actor4.hide()
        Actor2:fertility_npc => 50
        Actor3:fertility_npc => 50
        Actor4:fertility_npc => 50
        Actor2.dressBondage(Blindfold)
        Actor3.dressBondage(Blindfold)
        Actor4.dressBondage(Blindfold)
        Actor2.dressBondage(Handcuffs)
        Actor3.dressBondage(Handcuffs)
        Actor4.dressBondage(Handcuffs)
        Actor.setWantsBabies(true)
        Actor2.setWantsBabies(true)
        Actor3.setWantsBabies(true)
        Actor4.setWantsBabies(true)
        bonsayais = false
        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        menfou = false
        menfoupas = false
        Actor = generatePersonTemporary()
        While Actor.isMale()
            Actor = generatePersonTemporary()
        EndWhile
        Actor.blendPreset(Elf)
        Actor:attractiveness => random(75, 85)
        Actor:intelligence => random(70, 100)
        Actor.makeInterested(Player)
        Actor.dress(Uniform-Doctor-Coat_1_F)
        Actor.hide()
        "I was deeply focused on the book I was reading, when I was distracted by what sounded like a sharp whisper from behind some shelves toward the back of the library."
        "Glancing around, the place seems rather empty... what could that have been about?"
        0:: "It sounded odd enough to be worth investigating..."
        1:: "Doesn't matter, I want to get back to reading"
        2:: "Run my life to my home"
        
        If 0
            menfoupas = true
        ElseIf 1
            menfou = true
        Else
            If random(0, 100) > 90
                bonsayais = true
            Else
                moveTo(home)
            EndIf
        EndIf
        If menfou
            If random(0, 100) > random(0, 100)
                menfoupas = true
                bonsayais = true
            Else
                "I didn't hear the sound again, and enjoyed my book in peace. I couldn't help but wonder if I'd missed out on something interesting though..."
            EndIf
        EndIf
        If menfoupas
            If bonsayais
                "As I was leaving, I heard a hiss and felt a sting in my neck. Reaching for the spot, I found a dart stuck in me!"
                "Drowsiness rapidly overcame me, and as my legs gave out I noticed lithe hands from someone I didn't even hear approaching reach out to catch me..."
            Else
                "As I stepped around the shelves, I heard a hiss and felt a sting in my neck. Reaching for the spot, I found a dart stuck in me!"
                "Drowsiness rapidly overcame me, and as my legs gave out I noticed lithe hands from someone I didn't even hear approaching reach out to catch me..."
            EndIf
            setBackground3d(Modules/rk_vin_Base/World/DoctorBedroom.lpworld)
            "When I came to, I found myself strapped to a chair in a basement, a pair of elves with dart guns standing watch over me."
            "When they noticed my eyes open, one called to someone else..."
            Actor99(Curious)::"Doctor, the greenskin's awake."
            "Another elf in a lab coat stepped into view... <Actor.He_or_She> stared at me inquisitvely for a moment." 
            Actor(Curious):: "So, you are the orc who aspires to an intelligence better suited to elves?"
            Actor(Sarcastic):: "This might surprise you, but I actually approve quite well."
            Actor(Serene):: "Most of your people seem thoroughly uninterested in improving anything about themselves that can't be done without weights or fighting!"
            Actor(Serene):: "Anyway... let me show you why you were brought here."
            "The guards released me from the chair, and the leader had me follow <Actor.him_or_her> into another room..."
            Actor(Serene):: "How about fucking these females to increase your population?"
            "There are three elf women sitting in chains and blindfolded against the wall."
            Actor2.show()
            Actor3.show()
            Actor4.show()
            If !Actor2.isTemporary()
                "I even recognized one of them, it's <Actor2.name> ... poor girl ..."
            EndIf
            Bonus = false
            Actor(Serene):: "I would like you to fertilize these specimens. The offspring should hopefully be much more powerful than the average orc."
            Actor(Serene):: "I treated them with a special cocktail of fertility agents, so one insemination should be enough."
            "So are you interested?"
            0:: "No"
            1:: "Yes"
            
            If 0
                Player(Furious):: "WTF, I'm not a sperm machine! I'm really interested in your breeding scheme..."
                "<Actor.He_or_She> scoffs."
                Actor(Sarcastic):: "Really? I think your intelligence is not focused, missing the big picture..."
                "<Actor.He_or_She> thought for a moment... Taking a syringe, <Actor.he_or_she> seemed to be thinking about something..."
                Actor(Sarcastic):: "How about this, as a reward, I'll let you fuck me?"
                Actor(Serene)::"The resulting child will have more potential than any other member of your community... and besides, I know your species has a deep-seated obsession with mating with anything that moves."
                Player(Sarcastic)::"In fact, I think your fantasy is to see me fuck those females... anyway..."
                0:: "Why not!"
                1:: "Sorry but still not interested!"
                
                If 1
                    "And <Actor.he_or_she> is right, there is something inherently attractive about the fertilization of these beautiful females."
                    Ahead = true
                    Bonus = true
                Else
                    Ahead = false
                    Actor(Sad):: "I don't know how to express my disappointment to you. Perhaps you are not really as sublime a mind as I have been led to believe."
                EndIf
            Else
                "It may not be ethical at all, but she's right... the orc society could benefit from more genetic predispositions to study. Plus, it will be fun..."
                Ahead = true
            EndIf
        
            If Ahead
                "And just like that, I go ahead and fuck each elf girl in turn."
                Player.strip()
                Sex(Player, Actor2)
                Sex(Player, Actor3)
                Sex(Player, Actor4)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -6)
                EndIf
                If random(0, 100) < 80
                    Actor2.impregnate(Player)
                EndIf
                If random(0, 100) < 80
                    Actor3.impregnate(Player)
                EndIf
                If random(0, 100) < 80
                    Actor4.impregnate(Player)
                EndIf
                
                If !Bonus
                    Actor(Happy):: "I must admit that the vigor of the orcs is impressive - in a beastly way!"
                    Actor(Happy):: "In any case, I'll do my best to make sure that each of these inseminations turns out to be viable, so that the next generation of orcs will be a little less unbearable."
                Else
                    Actor(Happy):: "I must admit that the vigor of the orcs is impressive - in a beastly way!"
                    "She injects herself with the syringe, which I assume is one of the fertility agents she mentioned earlier."
                    Actor(Happy):: "Ok, now my turn!"
                    Actor.strip()
                    Sex(Player, Actor)
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -2)
                    EndIf
                    Actor(Happy)::"Good! Hopefully you have released an adequate volume.... I'll just have to wait and see if the fertilization starts"
                    If random(0, 100) < 50
                        Actor.impregnate(Player)
                    EndIf
                EndIf
                RealBonus = random(500, 5000)
                RealBonusloc = RealBonus.convertToLocalCurrency()
                Actor(Serene):: "Our business is now done, you will be escorted by my guards to your home." 
                Actor(Serene):: "Oh before I forget, here is a small amount to thank you! (<RealBonusloc>)"
                money += RealBonus
                Actor(Serene):: "Thanks again and have a nice day!"
                Actor.hide()
                "One of the guards raises his dart gun with a grin, so I stand and followed him..."
                moveTo(home)
                Actor2.hide()
                Actor3.hide()
                Actor4.hide()
                "Wow, what an experience!"
            EndIf
        EndIf
    SceneEnd() // Improved by Raddeck
    timeout(500, orc_breeding_cms)