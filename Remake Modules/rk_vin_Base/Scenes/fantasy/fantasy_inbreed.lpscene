WHAT: all
WHERE: home
WHEN: 0-24
WHO: none
OTHER: PercentageElves > 0 || PercentageOrcs > 0 || PercentageVampires > 0

    // You came across an orc or elf running from their inbreeding tribe. You can hand them over, pay for their freedom, threaten to prompt a goverment investigation upon that tribe's illegal practices, or if a certain module is enabled, show the runaway how it's done.
    
    SceneStart()
        Prix = random(50, 200)
        Prixl = Prix.convertToLocalCurrency()
        Prix1 = random(5000, 2000)
        Prix1l = Prix1.convertToLocalCurrency()
        cadeau = false
        fourrerO = false
        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        setBackgroundCustom(livingroom)
        "I come home only to find a stranger hiding in my living room"
        Actor = generatePersonTemporary()
        While !Player.isInterestedIn(Actor)
            Actor = generatePersonTemporary()
        EndWhile
        Actor:age => random(18, 20)
        Actor:attractiveness => random(70, 100)
        Actor.randomizeFace()
        Actor.randomizeHairs()
        ActorC = generatePersonTemporary()
        While !Player.isInterestedIn(ActorC)
            ActorC = generatePersonTemporary()
        EndWhile
        ActorC:age => random(30, 70)
        ActorC:attractiveness => random(70, 100)
        ActorC.randomizeFace()
        ActorC.randomizeHairs()
        ActorC.dress()
        Random
            Actor.blendPreset(Elf)
            Actor.blendPreset(Orc)
            Actor.blendPreset(Vampire)
        EndRandom
        Actor.dress()
        Actor.show()
        If Actor.isRace(Elf)
            "What's even more unusual: it's a young elven <Actor.man_or_woman>."
            ActorC.blendPreset(Elf)
            texto = "elves"
            ActorC.hide()
        ElseIf Actor.isRace(Orc)
            "What's even more unusual: it's a young orc <Actor.man_or_woman>."
            ActorC.blendPreset(Orc)
            texto = "orcs"
            ActorC.hide()
        Else
            "What's even more unusual: it's a young vampire <Actor.man_or_woman>."
            ActorC.blendPreset(Vampire)
            texto = "vampires"
            ActorC.hide()
        EndIf
        Player(Furious):: "What the fuck are you doing in my living room? You're trespassing. Get out before I call the cops!"
        Actor(Scared):: "Please don't make too much noise. I am running away from my inbred family. They are forcing me to marry my <Actor.sister_or_brother>."
        Player(Curious):: "What the fuck are you talking about? Why doing this?"
        Actor(Sad)::"Well, in their minds it's to keep the royal blood pure. But I don't care, I want to marry who I want."
        Player(Curious):: "Oh, ok so you're a <Actor.prince_or_princess> or what?"
        Actor(Embarrassed):: "Kind of ..."
        "Just as <Actor.he_or_she> finishes explaining <Actor.his_or_her> situation, I could hear <Actor.his_or_her> people arriving to catch <Actor.him_or_her>."
        "As a matter of fact, they knock on my door!"
        ActorC.show()
        ActorC(Furious)::"OPEN THE DOOR! We know <Actor.he_or_she> is in your house!"
        "What should I do?"
        0:: "Hand <Actor.him_or_her> over to <Actor.his_or_her> people"
        1:: money > Prix1::"Offer to pay <Prix1l> for <Actor.his_or_her> freedom"
        2:: interpersonal + intelligence > 170::"Threaten to expose it all"
        3:: energy > 25::"Ask for a duel in exchange for <Actor.his_or_her> freedom"
        
        If 0
            Player(Sad)::"Sorry, but this is none of my business. I don't want any trouble, so ..."
            "I easily let <Actor.his_or_her> people in to catch <Actor.him_or_her>, probably to be prepared for the wedding soon."
            "They were even happy enough with my cooperation so they gave me a small reward of (<Prixl>) to keep quiet about their lifestyle."
            money += Prix
            cadeau = true
        Else
            karma += 10
            If 1
                money -= Prix1
                "This cost me a small fortune, but I decided to use my wealth in exchange for <Actor.his_or_her>'s freedom instead."
                cadeau = true
            ElseIf 2
                "Using my law knowledge and connections, I threatened to prompt a goverment investigation upon that illegal practices."
                "Thinking that <Actor.he_or_she> isn't worth attracting authorities attention, so the chief decided to let <Actor.him_or_her> go."
                ActorC(Angry)::"Consider yourself lucky that I'm letting you live!"
                interpersonal += random(1, 2)
                cadeau = true
            Else
                FitMu = martial + muscle
                FitMuA = ActorC:martial + ActorC:muscle
                If [[ActorC.isRace(Elf) || ActorC.isRace(Orc)] && FitMu > FitMuA && energy > 25] || [martial > Actor:martial && energy > 25]
                    "I won the whole fight! The other <texto> can't believe it. The <texto> can't help but respect my fighting skills."
                    ActorC(Sad)::"Congratulations, you've won! I have to honor my obligation to you, so <Actor.he_or_she>'s all yours!"
                    ActorC(Sad)::"And you, don't ever show your nose at our place, because you'll be locked up for good."
                    mood += 15
                    martial += random(1, 15)
                    cadeau = true
                Else
                    "I totally lost the fight! The other <texto> can't believe it I asked for a duel. The <texto> can't help but respect my honor."
                    ActorC(Happy)::"Congratulations, you've lost! You have to honor your obligation to me, so <Actor.he_or_she> belong to us!"
                    ActorC(Happy)::"Consider yourself lucky that I'm letting you live!"
                    mood -= 25
                    martial -= random(1, 5)
                    Actor.hide()
                EndIf
            EndIf
            ActorC.hide()
        EndIf
        If cadeau
            Actor.makePermanent()
            exchangeContact(Actor)
            Actor.makeInterested(Player)
            Actor:attractiontoplayer += random(30, 100)
            Actor:rapportwithplayer += random(30, 100)
            Actor(Happy):: "Oh my god. You saved me from a lifetime of being married to my own <Actor.sister_or_brother> ... I'm forever in debt to you ... Please, I have nothing to offer you but my body ..."
            "What should I say?"
            0:: "Have sex with <Actor.name> as my reward"
            1:: "It was only the right thing to do"
            
            If 0
                perversion += 1
                Sex(Player, Actor)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -2)
                EndIf
                fourrerO = true
            Else
                perversion -= 1
                Player(Serene):: "Don't say that ... I didn't help you for any rewards. I just couldn't stand there and do nothing when someone falls into an incest arranged marriage."
                Actor:attractiontoplayer += random(1, 5)
                Actor:rapportwithplayer += random(1, 5)
            EndIf
            "Now free, <Actor.name> decided to leave community life and move to the city. Of course, <Actor.he_or_she> wanted nothing more than for us to stay in touch."
        EndIf
        Actor.hide()
    SceneEnd() // Improved by Raddeck
    timeout(500, fantasy_inbreed)