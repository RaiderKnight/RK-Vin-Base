WHAT: all
WHERE: university:school
WHEN: 0-24
WHO: Actor = getPerson(rk_VB_tag_Student); If !Actor.isDating() && !Actor.isAsexual() && !Actor.hasRelationship(Spouses, Dating) && Actor:attractiontoplayer < 40
OTHER: none

    SceneStart()
        TeacherUni = rk_VB_job_Teacher_Uni.getGlobal()
        choiceCourseMajor = rk_VB_choiceCourseMajor.getGlobal()
        If choiceCourseMajor == 1
            choiceCourseMajorT = 1
            TextMajorChosen = "architecture"
        ElseIf choiceCourseMajor == 2
            choiceCourseMajorT = 2
            TextMajorChosen = "chemical engineering"
        ElseIf choiceCourseMajor == 3
            choiceCourseMajorT = 3
            TextMajorChosen = "classics"
        ElseIf choiceCourseMajor == 4
            choiceCourseMajorT = 4
            TextMajorChosen = "computer science"
        ElseIf choiceCourseMajor == 31
            choiceCourseMajorT = 17
            TextMajorChosen = "dental"
        ElseIf choiceCourseMajor == 5
            choiceCourseMajorT = 5
            TextMajorChosen = "economics"
        ElseIf choiceCourseMajor == 6
            choiceCourseMajorT = 6
            TextMajorChosen = "education"
        ElseIf choiceCourseMajor == 7
            choiceCourseMajorT = 7
            TextMajorChosen = "English"
        ElseIf choiceCourseMajor == 8
            choiceCourseMajorT = 8
            TextMajorChosen = "geography"
        ElseIf choiceCourseMajor == 9
            choiceCourseMajorT = 9
            TextMajorChosen = "history"
        ElseIf choiceCourseMajor == 10
            choiceCourseMajorT = 10
            TextMajorChosen = "law"
        ElseIf choiceCourseMajor == 11
            choiceCourseMajorT = 11
            TextMajorChosen = "mathematics"
        ElseIf choiceCourseMajor == 12
            choiceCourseMajorT = 12
            TextMajorChosen = "medicine"
        ElseIf choiceCourseMajor == 13
            choiceCourseMajorT = 13
            TextMajorChosen = "music"
        ElseIf choiceCourseMajor == 14
            choiceCourseMajorT = 14
            TextMajorChosen = "philosophy"
        ElseIf choiceCourseMajor == 15
            choiceCourseMajorT = 15
            TextMajorChosen = "psychology"
        ElseIf choiceCourseMajor == 16
            choiceCourseMajorT = 16
            TextMajorChosen = "political sciences"
        ElseIf choiceCourseMajor == 60
            choiceCourseMajorT = 18
            TextMajorChosen = "sales and marketing"
        ElseIf choiceCourseMajor == 80
            choiceCourseMajorT = 19
            TextMajorChosen = "travel and tourism"
        ElseIf choiceCourseMajor == 90
            choiceCourseMajorT = 20
            TextMajorChosen = "veterinary"
        EndIf
        tagTAR = Actor.getActorVar(rk_VB_tag_TAR)
        tagTCE = Actor.getActorVar(rk_VB_tag_TCE)
        tagTCL = Actor.getActorVar(rk_VB_tag_TCL)
        tagTCS = Actor.getActorVar(rk_VB_tag_TCS)
        tagTEC = Actor.getActorVar(rk_VB_tag_TEC)
        tagTED = Actor.getActorVar(rk_VB_tag_TED)
        tagTEN = Actor.getActorVar(rk_VB_tag_TEN)
        tagTGE = Actor.getActorVar(rk_VB_tag_TGE)
        tagTHI = Actor.getActorVar(rk_VB_tag_THI)
        tagTLA = Actor.getActorVar(rk_VB_tag_TLA)
        tagTMA = Actor.getActorVar(rk_VB_tag_TMA)
        tagTME = Actor.getActorVar(rk_VB_tag_TME)
        tagTMU = Actor.getActorVar(rk_VB_tag_TMU)
        tagTPH = Actor.getActorVar(rk_VB_tag_TPH)
        tagTPS = Actor.getActorVar(rk_VB_tag_TPS)
        tagTPOL = Actor.getActorVar(rk_VB_tag_TPOL)
        tagTSM = Actor.getActorVar(rk_VB_tag_TSM)
        tagTDM = Actor.getActorVar(rk_VB_tag_TDM)
        tagTVE = Actor.getActorVar(rk_VB_tag_TVE)
        tagTTT = Actor.getActorVar(rk_VB_tag_TTT)
        If isModEnabled(rk_vin_Base) && Actor.isValid()
            If tagTAR >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TAR)
                Architecture_Major_Actor = Actor.getActorVar(rk_VB_Architecture_Major_Actor)
            ElseIf tagTCE >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TCE)
                Chemical_Engineering_Major_Actor = Actor.getActorVar(rk_VB_Chemical_Engineering_Major_Actor)
            ElseIf tagTCL >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TCL)
                Classics_Major_Actor = Actor.getActorVar(rk_VB_Classics_Major_Actor)
            ElseIf tagTCS >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TCS)
                Computer_Science_Major_Actor = Actor.getActorVar(rk_VB_Computer_Science_Major_Actor)
            ElseIf tagTEC >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TEC)
                Economics_Major_Actor = Actor.getActorVar(rk_VB_Economics_Major_Actor)
            ElseIf tagTED >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TED)
                Education_Major_Actor = Actor.getActorVar(rk_VB_Education_Major_Actor)
            ElseIf tagTEN >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TEN)
                English_Major_Actor = Actor.getActorVar(rk_VB_English_Major_Actor)
            ElseIf tagTGE >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TGE)
                Geography_Major_Actor = Actor.getActorVar(rk_VB_Geography_Major_Actor)
            ElseIf tagTHI >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_THI)
                History_Major_Actor = Actor.getActorVar(rk_VB_History_Major_Actor)
            ElseIf tagTLA >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TLA)
                Law_Major_Actor = Actor.getActorVar(rk_VB_Law_Major_Actor)
            ElseIf tagTMA >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TMA)
                Mathematics_Major_Actor = Actor.getActorVar(rk_VB_Mathematics_Major_Actor)
            ElseIf tagTME >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TME)
                Medicine_Major_Actor = Actor.getActorVar(rk_VB_Medicine_Major_Actor)
            ElseIf tagTMU >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TMU)
                Music_Major_Actor = Actor.getActorVar(rk_VB_Music_Major_Actor)
            ElseIf tagTPH >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TPH)
                Philosophy_Major_Actor = Actor.getActorVar(rk_VB_Philosophy_Major_Actor)
            ElseIf tagTPS >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TPS)
                Psychology_Major_Actor = Actor.getActorVar(rk_VB_Psychology_Major_Actor)
            ElseIf tagTPOL >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TPOL)
                Political_Sciences_Major_Actor = Actor.getActorVar(rk_VB_Political_Sciences_Major_Actor)
            ElseIf tagTSM >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TSM)
                SalesMarketing_Major_Actor = Actor.getActorVar(rk_VB_SalesMarketing_Major_Actor)
            ElseIf tagTDM >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TDM)
                Dental_Major_Actor = Actor.getActorVar(rk_VB_Dental_Major_Actor)
            ElseIf tagTVE >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TVE)
                Veterinary_Major_Actor = Actor.getActorVar(rk_VB_Veterinary_Major_Actor)
            ElseIf tagTTT >= 1
                AcID = Actor.getActorVar(rk_VB_AcIdCC_TTT)
                TravelTourism_Major_Actor = Actor.getActorVar(rk_VB_TravelTourism_Major_Actor)
            EndIf
        EndIf
        Actor.dress()
        Actor.show()
        //ChoixDsonCours = random(1, 20)
        //ChoixDsonCours = ChoixDsonCours.round()
        TrouveLeBon2 = true
        While TrouveLeBon2
            ChoixDsonCours = random(1, 20)
            ChoixDsonCours = ChoixDsonCours.round()
            TrouveLeBon2 = false
            Actor2 = generatePersonTemporary()
            While !Actor.isInterestedIn(Actor2)
                Actor2 = generatePersonTemporary()
            EndWhile
            If choiceCourseMajorT == 1
                Actor2.setActorVar(rk_VB_Architecture_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TAR, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TAR, AcID)
            ElseIf choiceCourseMajorT == 2
                Actor2.setActorVar(rk_VB_Chemical_Engineering_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TCE, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TCE, AcID)
            ElseIf choiceCourseMajorT == 3
                Actor2.setActorVar(rk_VB_Classics_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TCL, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TCL, AcID)
            ElseIf choiceCourseMajorT == 17
                Actor2.setActorVar(rk_VB_Dental_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TDM, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TDM, AcID)
            ElseIf choiceCourseMajorT == 4
                Actor2.setActorVar(rk_VB_Computer_Science_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TCS, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TCS, AcID)
            ElseIf choiceCourseMajorT == 5
                Actor2.setActorVar(rk_VB_Economics_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TEC, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TEC, AcID)
            ElseIf choiceCourseMajorT == 6
                Actor2.setActorVar(rk_VB_Education_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TED, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TED, AcID)
            ElseIf choiceCourseMajorT == 7
                Actor2.setActorVar(rk_VB_English_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TEN, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TEN, AcID)
            ElseIf choiceCourseMajorT == 8
                Actor2.setActorVar(rk_VB_Geography_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TGE, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TGE, AcID)
            ElseIf choiceCourseMajorT == 9
                Actor2.setActorVar(rk_VB_History_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_THI, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_THI, AcID)
            ElseIf choiceCourseMajorT == 10
                Actor2.setActorVar(rk_VB_Law_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TLA, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TLA, AcID)
            ElseIf choiceCourseMajorT == 11
                Actor2.setActorVar(rk_VB_Mathematics_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TMA, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TMA, AcID)
            ElseIf choiceCourseMajorT == 12
                Actor2.setActorVar(rk_VB_Medicine_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TME, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TME, AcID)
            ElseIf choiceCourseMajorT == 13
                Actor2.setActorVar(rk_VB_Music_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TMU, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TMU, AcID)
            ElseIf choiceCourseMajorT == 14
                Actor2.setActorVar(rk_VB_Philosophy_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TPH, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TPH, AcID)
            ElseIf choiceCourseMajorT == 15
                Actor2.setActorVar(rk_VB_Psychology_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TPS, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TPS, AcID)
            ElseIf choiceCourseMajorT == 16
                Actor2.setActorVar(rk_VB_Political_Sciences_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TPOL, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TPOL, AcID)
            ElseIf choiceCourseMajorT == 18
                Actor2.setActorVar(rk_VB_SalesMarketing_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TSM, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TSM, AcID)
            ElseIf choiceCourseMajorT == 19
                Actor2.setActorVar(rk_VB_TravelTourism_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TTT, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TTT, AcID)
            ElseIf choiceCourseMajorT == 20
                Actor2.setActorVar(rk_VB_Veterinary_Major_Actor, 1)
                Actor2.setActorVar(rk_VB_tag_TVE, 1)
                Actor2.setActorVar(rk_VB_AcIdCC_TVE, AcID)
            EndIf
        EndWhile
        Actor2:age => random(18, 22)
        Actor2.randomizeHairs()
        Actor2.randomizeRace()
        Actor2.randomizeFace()
        //Actor2.setDifferentMajor()
        AcID = Actor2.getID()
        Actor2.setActorVar(rk_VB_tag_Student, 1)
        Actor2.makePermanent()
        Actor.moveToPersonStand(Actor2, 40)
        Actor2.dress()
        Actor2.show()
        Jealousy = Player.getActorVar(rk_VB_Jealousy) // My general jealousy
        JealousTowardIDA = Actor.getActorVar(rk_VB_PlayerJealousTowardIDA)
        JealousTowardIDA2 = Actor2.getActorVar(rk_VB_PlayerJealousTowardIDA)
        If TeacherUni == 0    
            "My classmate <Actor.name> has been hanging out a lot these days with this <Actor2.guy_or_girl> named <Actor2.name> for studying <TextMajorChosen> ... I wonder if they are together now ..."
        Else
            "My student <Actor.name> has been hanging out a lot these days after class with this <Actor2.guy_or_girl>, who I don't think is one of my students... I wonder if they are together now ..." 
        EndIf
        0:: "Good for them"
        1:: "That's a shame"
        
        If 1
            IDA = Actor.getID() // Get actor ID
            rk_VB_JealousToward.setGlobal(IDA) // I'm jealous about IDA - set actor ID
            JealousTowardIDA = rk_VB_JealousToward.getGlobal() // I'm jealous about IDA
            Actor.modifyActorVar(rk_VB_PlayerJealousTowardIDA, 1) // My jealousy toward ID stats
            "I think I might be a little jealous..."
            IDA2 = Actor2.getID() // Get Actor2 ID
            rk_VB_JealousToward.setGlobal(IDA2) // I'm jealous about IDA - set Actor2 ID
            JealousTowardIDA2 = rk_VB_JealousToward.getGlobal() // I'm jealous about IDA
            Actor2.modifyActorVar(rk_VB_PlayerJealousTowardIDA, 1) // My jealousy toward ID stats
            Player.modifyActorVar(rk_VB_Jealousy, 0.005) // My general jealousy
            mood -= 1
        EndIf
        addNpcRelationship(Dating, Actor, Actor2)
    SceneEnd() // Improved by Raddeck
    timeout(1000, coursemate_dating_another)