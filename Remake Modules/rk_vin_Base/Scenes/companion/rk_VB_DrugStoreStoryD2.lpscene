WHAT: none
WHERE: none
WHEN: 0 - 24
WHO: none
OTHER: none

    SceneStart() // rk_VB_DrugStoreStoryD2
        VendID = rk_VB_DrugStoreStoryID.getGlobal()
        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        Degrees = rk_VB_DrugStoreStory.getGlobal()
        Vendeur = getSpecific(VendID)
        OnyVas = false
        OnyVasPas = false
        AllerCine = false
        If isModEnabled(rk_vin_base)
            If [Degrees == 1 || Degrees == 2 || Degrees == 3 || Degrees == 4] && Vendeur.isValid()
                Vendeur.dress()
                Vendeur.show()
                AllerCine = true
                "Once we arrived at the theatre, we sat down and started watching the movie..."
                "After a while ..."
                "I'm watching a movie with <Vendeur.name>. It's really dark in here."
                0:: "Feel <Vendeur.him_or_her> up"
                1:: "Just watch the movie"
                
                If 0
                    "I decided to get handy with my date and started caressing <Vendeur.his_or_her> thighs."
                    If [Degrees == 2 || Degrees == 3 || Degrees == 4] && random(20, 75) < Vendeur:attractiontoplayer + Vendeur:perversion
                        "<Vendeur.name> responded in kind and started caressing me as well."
                        animatePair(Player, Vendeur, Kissing)
                        Player(Kiss):: "..."
                        Vendeur(Kiss):: "..."
                        "Eventually, we started making out, right there in the theatre."
                        Vendeur:attractiontoplayer += random(0, 2)
                        If Degrees == 4
                            "What should I do?"
                            0:: "Stop it there"
                            1:: perversion > 5:: "Invite <Vendeur.him_or_her> home"
                            2:: perversion > 50:: "Have sex right here"
                            
                            If 0
                                "That's enough. We should stop before a fellow cinema goer spots our shameless public display of affection."
                            ElseIf 1
                                "I whispered into <Vendeur.his_or_her> ear, suggesting that we go back to my place."
                                If random(50, 125) < Vendeur:attractiontoplayer + Vendeur:perversion
                                    "<Vendeur.name> nodded and soon enough, I was leading <Vendeur.him_or_her> back to my apartment."
                                    moveTo(home)
                                    setBackground(home)
                                    "As soon as we were inside, the passion became too much to resist any longer."
                                    Sex(Vendeur, Player)
                                    If HungerEnable > 0
                                        Player.modifyActorVar(rk_VB_Hunger, -2)
                                    EndIf
                                    perversion += random(0, 0.25)
                                    Vendeur:attractiontoplayer += random(0, 2)
                                    Vendeur:rapportwithplayer += random(1, 2)
                                Else
                                    "<Vendeur.name> shook <Vendeur.his_or_her> head, clearly signalling that <Vendeur.he_or_she> didn't want to go any further than kissing."
                                    Vendeur:attractiontoplayer += random(0, 1)
                                EndIf
                            Else
                                "I whispered into <Vendeur.his_or_her> ear, suggesting that we get much more intimate right here in the cinema."
                                If random(75, 150) < Vendeur:attractiontoplayer + Vendeur:perversion
                                    "<Vendeur.name> nodded and soon enough, we were undressing each other right there in the cinema."
                                    Sex(Vendeur, Player)
                                    If HungerEnable > 0
                                        Player.modifyActorVar(rk_VB_Hunger, -2)
                                    EndIf
                                    perversion += random(0, 1)
                                    Vendeur:attractiontoplayer += random(0, 2)
                                    Vendeur:rapportwithplayer += random(1, 2)
                                Else
                                    "<Vendeur.name> shook <Vendeur.his_or_her> head, clearly signalling that <Vendeur.he_or_she> didn't think such shameless public sex is a good idea."
                                    Vendeur:attractiontoplayer -= random(0, 1)
                                EndIf
                            EndIf
                        EndIf
                        If Degrees == 3 && !aimepascela
                            aimepascela = true
                        EndIf
                    Else
                        aimepascela = true
                    EndIf
                    If [Degrees == 2 || Degrees == 3 || Degrees == 4] && !aimepascela
                        aimepascela = true
                    EndIf
                Else
                    "Let's not try anything funny and just enjoy the movie."
                    pastouche = true
                EndIf
                If Degrees == 1 && !aimepascela && !pastouche
                    aimepascela = true
                EndIf
            Else
                "Something wrong happen! - Debug1"
            EndIf
        EndIf
        If aimepascela
            Vendeur(Flirty):: "<Player.name>! Not here! This is so inappropriate!"
            "And just like that, <Vendeur.name> pushed me away and told me to take <Vendeur.his_or_her> home..."
            mood -= 5
        EndIf
        If Degrees == 1 || Degrees == 2 || Degrees == 3 || Degrees == 4
            Vendeur:attractiontoplayer += random(1, 5)
            Vendeur:rapportwithplayer += random(1, 5)
            If Degrees == 1
                "After the show, I drove <Vendeur.him_or_her> home hoping for a little make out session in the car, but all I got was a fraternal kiss..."
            ElseIf Degrees == 2
                "After the show, I drove <Vendeur.him_or_her> home hoping for a little make out session in the car, but even on the second date, there was only a slight improvement, but <Vendeur.he_or_she> was still blocking all my attempts to fuck with <Vendeur.him_or_her>."
            ElseIf Degrees == 3
                "After the show, I drove <Vendeur.him_or_her> home hoping for a little make out session in the car, but even on the second date, there was some improvement, but <Vendeur.he_or_she> was still blocking all my attempts to fuck with <Vendeur.him_or_her>."
                "However, on the third date, <Vendeur.he_or_she> did let me grope <Vendeur.his_or_her> <Vendeur.dick_or_tits> through <Vendeur.his_or_her> <Vendeur.pants_or_sweater>."
            ElseIf Degrees == 4
                "After the show, I drove <Vendeur.him_or_her> home hoping for a little make out session in the car, but looks like my date have another idea, ..."
                If random(0, 100) > 90 
                    Vendeur(Flirty):: "Instead of taking me home, why don't we go to your place?"
                    "What should I do?"
                    0:: "Accept"
                    1:: "Refuse"
                    
                    If 0
                        Player(Sad)::"Sure!"
                        Vendeur:attractiontoplayer += random(1, 5)
                        Vendeur:rapportwithplayer += random(1, 5)
                        rk_VB_DrugStoreStory.setGlobal(5)
                        followUp(invite_home)
                    Else
                        Player(Sad)::"Sorry but I have some important things to do right now!"
                        Vendeur(Sad)::"Ok then!"
                        Vendeur:attractiontoplayer -= random(1, 5)
                        Vendeur:rapportwithplayer -= random(1, 5)
                        endDate()
                        Vendeur.hide()
                    EndIf
                Else
                    Vendeur(Flirty):: "Why don't you come to my place for a coffee?"
                    "What should I do?"
                    0:: "Accept"
                    1:: "Refuse"
                    
                    If 0
                        Player(Sad)::"Sure!"
                        Vendeur:attractiontoplayer += random(1, 5)
                        Vendeur:rapportwithplayer += random(1, 5)
                        followUp(rk_VB_DrugStoreStoryD3)
                    Else
                        Player(Sad)::"Sorry but I have some important things to do right now!"
                        Vendeur(Sad)::"Ok then!"
                        Vendeur:attractiontoplayer -= random(1, 5)
                        Vendeur:rapportwithplayer -= random(1, 5)
                        endDate()
                        Vendeur.hide()
                    EndIf
                EndIf
            EndIf
        EndIf
        If Degrees == 1 && AllerCine
            rk_VB_DrugStoreStory.setGlobal(2)
        ElseIf Degrees == 2 && AllerCine
            rk_VB_DrugStoreStory.setGlobal(3)
        ElseIf Degrees == 3 && AllerCine
            rk_VB_DrugStoreStory.setGlobal(4)
        EndIf
        If Degrees == 1 || Degrees == 2 || Degrees == 3
            Vendeur.hide()
            endDate()
        EndIf
    SceneEnd()