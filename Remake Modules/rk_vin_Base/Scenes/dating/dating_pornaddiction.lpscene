WHAT: all, -pickpocket, -go_to_the_bathroom, -sleep, -sleep_hotel, -nap, -nap_hotel, -rk_VB_small_sleep
WHERE: home
WHEN: 0 - 24
WHO: Dating = getSpecific(Dating); If Dating:perversion > Random(50, 100)
OTHER: !isWithCompanion() && Random(0, 1000) < intelligence

    SceneStart()
        personal_vids = Player.getActorVar(rk_VB_personal_vids)
        dating_Npornaddiction = Player.getActorVar(rk_VB_dating_Npornaddiction)
        If dating_Npornaddiction >= 1
            Player.getActorVar(rk_VB_dating_Npornaddiction, -1)
        Endif
        gotmovieA = false
        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        "By accident, I came across <Dating.name>'s browser history, which was full of porn sites! In fact, I'm pretty sure watching porn is all <Dating.he_or_she> ever does when I'm not around."
        dating_Npornaddiction = Player.getActorVar(rk_VB_dating_Npornaddiction)
        "What should I do about this?"
        0:: "Do nothing"
        1::dating_Npornaddiction <= 0::"Ask to make a private porn movie"
        90:: "Tell <Dating.him_or_her> off"
        99:: Dating:perversion >= 1::"Encourage <Dating.him_or_her> to seek professional help"

        If 0
            "What's the big deal? Who doesn't watch porn from time to time? In fact, I probably should take note of what <Dating.he_or_she> is into so that we can have more fun in bed!"
            perversion += Random(0, 0.5)
        Elseif 1
            "What's the big deal? Who doesn't watch porn from time to time? In fact, I think I'll ask <Dating.him_or_her> if <Dating.he_or_she> wants to make a private porn movie!"
            perversion += Random(0, 0.5)
            Player(Curious)::"Hey honey, just out of curiosity, would you like to make a porn movie that you can keep just for you, we'll be focus on my <Player.dick_or_pussy>?"
            If Dating:arousal > 15 && Dating:perversion > 15
                Dating(Flirty)::"Sure anytime! But let's do a real amateur porn movie!"
                Player(Happy)::"Cool!"
                Dating:attractiontoplayer += Random(0, 2)
                Dating:rapportwithplayer += Random(0, 2)
                Dating:arousal += Random(0, 2)
                Dating:perversion += Random(0, 1)
                Player.strip()
                Dating.strip()
                If !Player.isMale()
                    Filter(LickPussy)
                Else
                    Filter(Blowjob)
                Endif
                sex(Dating, Player)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -1)
                EndIf
                If !Dating.isMale()
                    Filter(LickPussy)
                Else
                    Filter(Blowjob)
                Endif
                sex(Player, Dating)
                sex(Dating, Player)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -1)
                EndIf
                Dating(Flirty)::"Oh yeah! Fuck me babe!"
                sex(Player, Dating)
                sex(Dating, Player)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -2)
                EndIf
                Dating(Flirty)::"Wow that was fun!"
                gotmovieA = true
            Elseif Dating:arousal > 15 && Random(0, 100) > 50
                Dating(Flirty)::"Ok, but only a <Player.blowjob_or_cunnilingus>!"
                Player(Happy)::"Cool!"
                Dating:attractiontoplayer += Random(0, 1)
                Dating:rapportwithplayer += Random(0, 1)
                Dating:arousal += Random(0, 1)
                Dating:perversion += Random(0, 1)
                Player.strip()
                If !Player.isMale()
                    Filter(LickPussy)
                Else
                    Filter(Blowjob)
                Endif
                sex(Dating, Player)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -1)
                EndIf
                Dating(Flirty)::"Wow that was fun!"
                gotmovieA = true
            Elseif Dating:arousal > 15
                Dating(Flirty)::"Ok, but only <Player.handjob_or_fingering>!"
                Player(Happy)::"Cool!"
                Dating:attractiontoplayer += Random(0, 1)
                Dating:rapportwithplayer += Random(0, 1)
                Dating:arousal += Random(0, 1)
                Dating:perversion += Random(0, 1)
                Player.strip()
                If !Player.isMale()
                    Filter(Fingering)
                Else
                    Filter(Handjob)
                Endif
                sex(Dating, Player)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -1)
                EndIf
                Dating(Flirty)::"Wow that was fun!"
                gotmovieA = true
            Else
                Dating(Shocked)::"Are you crazy? Never in my life!"
                Player(Sad)::"Don't get upset, I was only asking!"
                Dating:attractiontoplayer -= Random(0, 1)
                Dating:rapportwithplayer -= Random(0, 1)
            Endif
        Elseif 90
            "I decided to take the moral high ground and be quite judging to <Dating.him_or_her> about his porn habits. I hope that being embarrassed would stop <Dating.him_or_her> from watching so much porn all the time."
            Dating:attractiontoplayer -= Random(0, 2)
            masochist -= 1
            mood -= 1
            arousal -= 5
            perversion -= 2
        Else
            arousal -= 5
            perversion -= 2
            "It's clear <Dating.name> has a bad porn addiction. <Dating.He_or_She> needs professional help!"
            Dating.dress()
            Dating.show(2)
            Player(Sad)::"Baby, I think you should see a specialist, if you don't want us to get a divorce.!"
            Dating(Sad):: "Okay baby, I'm willing to give a try!"
            mood += 3
            "So we went to see a porn addiction specialist!"
            setBackground(hospital)
            ADoctor = generatePersonTemporary()
            ADoctor.dressUniform(hospital)
            ADoctor.show()
            "Once we arrived at the specialist, we explained the problem and began to examine my <Dating.boyfriend_or_girlfriend>!"
            HelpSexAddickSession = Player.getActorVar(rk_VB_HelpSexAddickSession)
            If HelpSexAddickSession == 3
                "After a few sessions, <Dating.name>'s addiction seems to have reduced a lot and <Dating.he_or_she> thanked me for all the support I gave."
                karma += 2.5
                Dating:perversion => 0
                Dating:arousal => 0
                Dating:attractiontoplayer += Random(0, 5)
                Player.setActorVar(rk_VB_HelpSexAddickSession, 0)
            Else
                "After a few sessions, <Dating.name>'s addiction seems to have reduced a bit and <Dating.he_or_she> thanked me for encouraging <Dating.him_or_her> to seek help in the first place."
                karma += 0.5
                Dating:perversion -= Random(0, 10)
                Dating:arousal -= Random(0, 10)
                Dating:attractiontoplayer += Random(0, 5)
                Player.modifyActorVar(rk_VB_HelpSexAddickSession, 1)
            Endif
            If ADoctor:perversion > 50 && ADoctor:arousal > 15 && ADoctor.isInterestedIn(Dating) && ADoctor.isInterestedIn(Dating) && HelpSexAddickSession == 0
                ADoctor(Grin)::"Since your <Dating.boyfriend_or_girlfriend> is now cured, we could celebrate just me and you in private, what do you think?"
                "What should I say?"
                0::"No way"
                1:: "Why not!"
                
                If 0
                    Player(Shocked)::"Sorry but I only fuck with my <Dating.boyfriend_or_girlfriend>!"
                    Dating:rapportwithplayer += Random(0, 2)
                    Dating:attractiontoplayer += Random(0, 2)
                    ADoctor(Sad)::"Don't get upset, I was only asking!"
                Else
                    karma -= 1
                    Player(Happy)::"Sure why not!"
                    ADoctor(Grin)::"Let's go somewhere more private..."
                    Player(Happy)::"Honey! Go back home, I'll pay the doctor and finish to signed all the papers..."
                    Dating(Happy)::"Ok, no problem, I'll wait for you!"
                    Dating.hide()
                    setBackground3D(Modules/rk_vin_Base/World/DoctorBathroom.lpworld)
                    "<ADoctor.He_or_She> makes me enter a room that looks like a bedroom... I didn't know that doctors had a room in their clinic!... Cool!"
                    "Once inside, we undressed and started caressing each other and then we fucked like nymphomaniacs in need of sex..."
                    ADoctor.strip()
                    Player.strip()
                    sex(ADoctor, Player)
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -2)
                    EndIf
                    If !Actor.isContactExchanged()
                        "<Actor.namee> suggested that we exchange contacts, because it will be an another specialist. Shall I?"
                        0:: "Yes"
                        1:: "No"
                        
                        If 0
                            exchangeContact(Actor)
                            "We exchanged numbers and parted ways."
                        Endif
                    EndIf
                Endif
            Endif
            ADoctor.hide()
        Endif
        If gotmovieA
            "Should I keep a copy of it before I give it to <Dating.him_or_her>?"
            0::"Sure"
            1::"Nah!"
            
            If 0
                "I decided to make a copy of the film we just made together!"
                If Player:sneak > Random(0, 100)
                    "I managed to make a copy! ! more personal video added to my collection!"
                    Player.modifyActorVar(rk_VB_personal_vids, 1)
                Else
                    Dating(Sad)::"WTF, I trusted you! Never ask me that again!"
                    Dating:rapportwithplayer -= Random(0, 5)
                    Dating:attractiontoplayer -= Random(0, 2)
                    Dating:perversion -= Random(0, 3)
                    Player.setActorVar(rk_VB_dating_Npornaddiction, 100)
                Endif
            Else
                "I decided to give <Dating.him_or_her> the film we just made together!"
            Endif
        Endif
        timeout(400, dating_pornaddiction)
    SceneEnd() // Scene improved by Raddeck