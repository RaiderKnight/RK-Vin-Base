WHAT: none
WHERE: none
WHEN: 0 - 24
WHO: none
OTHER:

    SceneStart()
        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        Actor = generatePerson()
        Actor.dress()
        Actor.show(2)
        Price = 50
        Price_loc = Price.convertToLocalCurrency()
        If isWithCompanion()
            Player(Happy)::"Sorry babe but I have to go somewhere, I'll be back soon!"
            endDate()
        EndIf
        If money <= 50
            "You don't have enough money to get a sensual massage! The cost for a massage is <Price_loc>!"
        Else
            If WHERE != home && WHERE != fraternity && WHERE != brothel && WHERE != sports_centre && WHERE != beauty
                "I decided to go for a massage today to release some stress. I was greeted by <Actor.name>."
            Else
                "I decided to get a massage to release some stress. I was greeted by <Actor.name>."
            EndIf
            "<Actor1.name> asks me what kind of masseur do I prefer?"
            0::"Female"
            1::"Male"

            If 1
                Actor = generatePersonTemporary()
                While !Actor.isMale()
                    Actor = generatePersonTemporary()
                EndWhile
            Else
                Actor = generatePersonTemporary()
                While Actor.isMale()
                    Actor = generatePersonTemporary()
                EndWhile
            EndIf
            Actor.dress()
            Actor.show(2)
            Actor.moveToPersonStand(Player, 50)
            "The <Actor.masseur_or_masseuse> in question arrives and introduces <Actor.himself_or_herself>."
            Actor(Flirty)::"Hi, my name is <Actor.name>, it's me who will make you relax, come follow me we go to room 33."
            Actor(Flirty)::"The price for the massage is <Price_loc>!"
            "What should I do?"
            0::"Pay"
            99::"Leave"
            
            If 0
                "I pay <PriceSMassage_Loc> for the massage and head to room 33."
                setBackground(brothel)
                setBackground3D(Modules/rk_vin_Base/World/Massage.lpworld)
                money -= Price
            Else
                Player(Sad)::"Sorry but, I have to leave!"
                SceneEnd()
            EndIf
            "I stripped down and lied on my stomach with a towel covering my ass and upper thighs."
            Player.strip()
            Actor.dressExcept(Outerwear, Bottom, Foot, Headwear, Eyewear)
            If Actor:perversion + Actor:attractiontoplayer > Random(25, 75)
            
                "The first portion of the massage went without incidents. However, after a while, <Actor.name> told me that <Actor.he_or_she> noticed how tense my lower body was and asked if <Actor.he_or_she> could pull off the towel to massage my bottom."
                0:: "Yes"
                1:: "No"
                
                If 0
                    Player.strip()
                    Player(Happy):: "No, I don't mind at all."
                    "<Actor.name> quickly took off my towel and began massaging my lower cheeks"
                    0:: "Spread my legs"
                    1:: "Stay still"
                    
                    If 0 || Actor:perversion + Actor:attractiontoplayer > Random(50, 100)
                        "All of a sudden, <Actor.he_or_she> reached down to massage my crotch!"
                        0:: "Storm out"
                        1:: "Give <Actor.him_or_her> my number"
                        2:: isModEnabled(vin_VanillaPorn) && perversion > 50:: "Enjoy my 'happy ending'"
                        
                        If 0
                            Player(Furious):: "Hey pervert, what the fuck do you think you're doing? This isn't a porno!"
                            "I stormed off and complained to the manager, threatening them with a rape lawsuit if <Actor.name> wasn't fired immediately."
                            Actor:rapportwithplayer -= 100
                            Actor:attractiontoplayer -= 100
                            masochist -= Random(0, 1)
                            mood -= 5
                            
                        ElseIf 1
                            "I enjoyed <Actor.his_or_her> hands feeling me up but didn't want to do something too crazy right there."
                            "Instead, I waited it out until the end of this very sensual massage to give <Actor.name> my personal number. <Actor.He_or_She> was delighted to have it."
                            exchangeContact(Actor)
                            perversion += Random(0, 0.25)
                            mood += 20
                            energy += 10
                            fitness += 0.05
                            attractiveness += 0.03
                        Else
                            "It was obvious what the cute <Actor.masseur_or_masseuse> really wanted. And I wanted it too, right here!"
                            "<Actor.His_or_Her> stimulating got more and more intense and soon enough, I got up and started making out with the lucky <Actor.masseur_or_masseuse>."
                            Sex(Actor, Player)
                            If HungerEnable > 0
                                Player.modifyActorVar(rk_VB_Hunger, -2)
                            EndIf
                            mood += 5
                            perversion += Random(0, 1)
                            fitness += 0.5
                        EndIf
                    Else
                        "Despite me being completely naked without even a piece of cloth covering my body, <Actor.name> remained completely professional and never tried anything funny for the rest of the massage."
                        mood += 20
                        energy += 10
                        fitness += 0.05
                        attractiveness += 0.03
                    EndIf
                Else
                    "I told <Actor.him_or_her> that it was not necessary. <Actor.He_or_She> had no choice but went back to a regular massage with no more daring suggestions."
                EndIf
            Else
                "<Actor.name> was thoroughly professional and I enjoyed a very relaxing massage."
                mood += 20
                energy += 10
                fitness += 0.05
                attractiveness += 0.03
            EndIf
        EndIf
    SceneEnd() // Scene improved by Raddeck