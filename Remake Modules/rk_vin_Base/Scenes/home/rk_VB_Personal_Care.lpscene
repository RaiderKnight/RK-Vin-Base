WHAT: none
WHERE: none
WHEN: 0 - 24
WHO: none
OTHER: none

    SceneStart()
        //clearBackground3D()
        JoueAvecM = false
        ResteInt = false
        stock_viagra = Player.getActorVar(rk_VB_stock_viagra)
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        UrgeToPeeCons = rk_VB_UrgeToPeeCons.getGlobal()
        BodyFat = Player.getActorVar(BodyFat)
        Sensual = false
        JmePese = false
        If energy < 2
            "You don't have enough energy...."
        ElseIf WHERE == prison
            "What should I do?"
            3::"Brush my teeth"
            5::"Groom"
            10::"Masturbate"
            81:: UrgeToPeeEnable > 0 ::"Go take a pee!"
            99::"Go back"
    
            If 3
                Player.show()
                Player.animate(dental)
                "I decided to brush my teeth..."
                mood += 0.5
                attractiveness += 0.03
                energy -= 0.5
                passTime(0.25, 0.5)
            ElseIf 5
                Player.show()
                Player.animate(makeup)
                "I decided to groom..."
                mood += 0.5
                attractiveness += 0.01
                energy -= 1
                passTime(0.25, 1)
            ElseIf 10
                Filter(Solo)
                Sex(Player)
                If HungerEnable > 0
                    Player.modifyActorVar(rk_VB_Hunger, -1)
                EndIf
            ElseIf 81
                Player.show()
                Player.animate(toilet)
                "Ah, what a relief!"
                Player.setActorVar(rk_VB_UrgeToPee, 0)
                mood += 3
            EndIf
        ElseIf WHERE != home  
            setBackground3D(Modules/vin_Base/World/toilets___vin01.lpworld)
            "What should I do?"
            3:: "Brush my teeth"
            10:: "Masturbate"
            12:: stock_makeup > 0::"Put on makeup"
            11:: stock_chineseaphrodisiac > 0.8::"Take chinese aphrodisiac"
            14:: stock_rapedrug > 0::"Take rape drug yourself"
            15:: stock_supplement > 0::"Take supplements"
            17:: stock_skincare > 0::"Use skincare"
            18:: stock_viagra > 0 ::"Take a viagra pill"
            70:: WHEN >= 6 && WHEN <= 18::"Go for a health check-up"
            81:: UrgeToPeeEnable > 0 ::"Go take a pee!"
            99::"Go back"
    
            If 3
                Player.show()
                Player.animate(dental)
                "I decided to brush my teeth..."
                mood += 0.5
                attractiveness += 0.03
                energy -= 0.5
                passTime(0.25, 0.5)
            ElseIf 10
                JoueAvecM = true
            ElseIf 11
                Player.show()
                Player.animate(drinkbottle)
                "I decided to take Chinese aphrodisiac..."
                stock_chineseaphrodisiac -=1
                mood +=10
                arousal +=100
                passTime(0.05, 0.15)
            ElseIf 12
                Player.show()
                Player.animate(makeup)
                "I decided to put some makeup..."
                stock_makeup -= 0.05
                mood += 1
                attractiveness += 5
                energy -= 1
                passTime(0.15, 0.5)
            ElseIf 14
                If isModEnabled(sb_BetterPregnancy)
                    "ATTENTION - I suggest to disable Better Pregnancy, this mod has been abandoned!"
                    followUp(take_rapedrug)
                Else
                    followUp(sb_VB_take_rapedrug)
                EndIf
            ElseIf 15
                Player.show()
                Player.animate(drinkbottle)
                "I decided to take supplements..."
                stock_supplement -= 1
                fitness += 0.02
                attractiveness += 0.01
                intelligence += 0.01
                passTime(0.05, 0.15)
            
             ElseIf 17
                Player.show()
                Player.animate(makeup)
                "I decided to use skincare..."
                stock_skincare -= 0.05
                attractiveness += 0.025
                mood += 1
                energy -= 1
                passTime(0.05, 0.15)
            ElseIf 18
                stock_viagra = Player.getActorVar(rk_VB_stock_viagra)
                "You decided to take a viagra pill! Now find someone to fuck!"
                arousal += 50
                energy += 50
                Player.modifyActorVar(rk_VB_stock_viagra, -1)
                passTime(0.05, 0.15)
            ElseIf 70
                followUp(naked_with_doctor)
            ElseIf 81
                Player.show()
                Player.animate(toilet)
                "Ah, what a relief!"
                Player.setActorVar(rk_VB_UrgeToPee, 0)
                mood += 3
            EndIf
        ElseIf WHERE == home
            setBackground(home)
            "Should I stay here or...?"
            0::"Stay here"
            1::"Go to the bathroom"
            
            If 1
                setBackground3D(Modules/vin_Base/World/bathroom___vin01.lpworld)
                ResteInt = true
            EndIf
            "What should I do?"
            0:: !ResteInt::"Take a shower"
            1:: !ResteInt::"Take a bath"
            2:: !ResteInt::"Brush my teeth"
            3:: !ResteInt::"Groom"
            4::"Check your weight"
            5:: stock_haircare > 0 && !ResteInt::"Use haircare"
            6:: stock_makeup > 0::"Put on makeup"
            7:: stock_skincare > 0::"Use skincare"
            8:: stock_supplement > 0::"Take supplements"
            9::"Get a massage"
            10:: !isWithCompanion()::"Get a sensual massage"
            11::"Go for a health check-up"
            12::"Masturbate"
            13:: stock_chineseaphrodisiac > 0.8::"Take Chinese aphrodisiac"
            14:: stock_rapedrug > 0::"Take rape drug yourself"
            15:: stock_viagra > 0 ::"Take a viagra pill"
            81:: UrgeToPeeEnable > 0 && !ResteInt ::"Go take a pee!"
            99::"Go back"
    
            If 0
                Player.show()
                Player.strip()
                Filter(shower)
                "I decided to take a shower..."
                Sex(Player)
                mood += 5
                energy += 1
                attractiveness += 0.05
                karma += 0.25
                passTime(0.35, 1)
            ElseIf 1
                Player.show()
                Player.strip()
                Filter(bathe)
                "I decided to bathe..."
                Sex(Player)
                mood += 5
                energy += 1
                attractiveness += 0.05
                karma += 0.25
                passTime(0.35, 1)
                Player.animate()
            ElseIf 2
                Player.show()
                Player.animate(dental)
                "I decided to brush my teeth..."
                mood += 0.5
                attractiveness += 0.03
                energy -= 0.5
                passTime(0.25, 0.5)
                Player.animate()
            ElseIf 3
                Player.show()
                Player.animate(makeup)
                "I decided to groom..."
                mood += 0.5
                attractiveness += 0.01
                energy -= 1
                passTime(0.25, 1)
                Player.animate()
            ElseIf 4
                JmePese = true
            ElseIf 5
                Player.show()
                Player.animate(bathe)
                "I decided to use haircare..."
                stock_haircare -= 0.05
                attractiveness += 0.025
                mood += 1
                energy -= 1
                passTime(0.05, 0.15)
                Player.animate()
            ElseIf 6
                Player.show()
                Player.animate(makeup)
                "I decided to put some makeup..."
                stock_makeup -= 0.05
                mood += 1
                attractiveness += 5
                energy -= 1
                passTime(0.15, 0.5)
                Player.animate()
            ElseIf 7
                Player.show()
                Player.animate(makeup)
                "I decided to use skincare..."
                stock_skincare -= 0.05
                attractiveness += 0.025
                mood += 1
                energy -= 1
                passTime(0.05, 0.15)
                Player.animate()
            ElseIf 8
                Player.show()
                Player.animate(drinkbottle)
                "I decided to take supplements..."
                stock_supplement -= 1
                fitness += 0.02
                attractiveness += 0.01
                intelligence += 0.01
                passTime(0.05, 0.15)
                Player.animate()
            ElseIf 9
            
                followUp(get_a_massage)
                
            ElseIf 10
                Sensual = true
            ElseIf 11
            
                followUp(naked_with_doctor)
                
            ElseIf 12
                JoueAvecM = true
            ElseIf 13
                Player.show()
                Player.animate(drinkbottle)
                "I decided to take Chinese aphrodisiac..."
                stock_chineseaphrodisiac -=1
                mood +=10
                arousal +=100
                passTime(0.05, 0.15)
                Player.animate()
            ElseIf 14
                If isModEnabled(sb_BetterPregnancy)
                    "ATTENTION - I suggest to disable Better Pregnancy, this mod has been abandoned!"
                    followUp(take_rapedrug)
                    
                Else
                
                    followUp(sb_VB_take_rapedrug)
                    
                EndIf
            ElseIf 15
                stock_viagra = Player.getActorVar(rk_VB_stock_viagra)
                "You decided to take a viagra pill! Now find someone to fuck!"
                arousal += 50
                energy += 50
                Player.modifyActorVar(rk_VB_stock_viagra, -1)
                passTime(0.05, 0.15)
            ElseIf 81
                Player.show()
                Player.animate(toilet)
                "Ah, what a relief!"
                Player.setActorVar(rk_VB_UrgeToPee, 0)
                mood += 3
                Player.animate()
            EndIf
        Else
            "Something went wrong!"
        EndIf
        If JmePese
            XBodyFat = Player.getActorVar(BodyFat)
            If XBodyFat == 0
                If Player.isMale()
                    value = Player.getMorphValue(XY__FBMHeavy)
                Else
                    value = Player.getMorphValue(Genesis8Female__FBMHeavy)
                EndIf
                value = 100*value
                XBodyFat = 50+value
                Player.setActorVar(BodyFat, XBodyFat)
            EndIf
            "You get on the scales and check your weight ... "
            "..."
            If XBodyFat < 46
                XBodyFat = 46
            EndIf
            XBodyFat -= random(0, 1)
            XBodyFat += random(0, 1)
            XLBS = XBodyFat*2.20462
            "<XLBS> lbs / <XBodyFat> kg"
            If isWithCompanion()
                CCBodyFat = CurrentCompanion.getActorVar(BodyFat)
                If CCBodyFat == 0
                    If CurrentCompanion.isMale()
                        value = CurrentCompanion.getMorphValue(XY__FBMHeavy)
                    Else
                        value = CurrentCompanion.getMorphValue(Genesis8Female__FBMHeavy)
                    EndIf
                    value = 100*value
                    CCBodyFat = 50+value
                    CurrentCompanion.setActorVar(BodyFat, CCBodyFat)
                EndIf
                CurrentCompanion(Curious):: "Let me get on the scales too."
                CurrentCompanion():: "..."
                If CCBodyFat < 46
                    CCBodyFat = 46
                EndIf
                CCBodyFat -= random(0, 1)
                CCBodyFat += random(0, 1)
                CCLBS = CCBodyFat*2.20462
                "<CCLBS> lbs / <CCBodyFat> kg"
            EndIf
            passTime(0.5, 1)
        EndIf
        If Sensual
            If isWithCompanion()
                Player(Happy)::"Sorry babe but I have to go somewhere, I'll be back soon!"
                endDate()
            EndIf
            If money < 160
                "You don't have enough money to get a sensual massage!"
            Else
                setBackground3D(Modules/rk_vin_Base/World/DoctorsRoom00.lpworld)
                Actor1 = generatePersonTemporary()
                Actor1.dress()
                Actor1.show(2)
                perversion += 1
                If WHERE != home && WHERE != fraternity && WHERE != brothel && WHERE != sports_centre && WHERE != beauty
                    "I decided to go for a sensual massage today to release some stress. I was greeted by <Actor1.name>."
                Else
                    "I decided to get a massage to release some stress. I was greeted by <Actor.name>."
                EndIf
                "<Actor1.name> asks me what kind of masseur do I prefer?"
                0::"Female"
                1::"Male"

                If 1
                    Actor = generatePersonTemporary()
                    While !Actor.isMale()
                        Actor = generatePersonTemporary()
                    EndWhile
                Else
                    Actor = generatePersonTemporary()
                    While Actor.isMale()
                        Actor = generatePersonTemporary()
                    EndWhile
                EndIf
                Actor.dress()
                Actor.show(2)
                Actor.moveToPersonStand(Player, 50)
                "The <Actor.masseur_or_masseuse> in question arrives and introduces <Actor.himself_or_herself>."
                Actor(Flirty)::"Hi, my name is <Actor.name>, I'll be your <Actor.masseur_or_masseuse> today, We're going to room 33, this way..."
                PriceSMassage = 150
                PriceSMassage_Loc  = PriceSMassage.convertToLocalCurrency()
                Actor(Flirty)::"The price for the massage is <PriceSMassage_Loc>"
                "What should I do?"
                0::"Pay"
                99::"Leave"
                
                If 0
                    "I pay <PriceSMassage_Loc> for the massage and head to room 33."
                    money -= PriceSMassage
                    setBackground(brothel)
                    setBackground3D(Modules/rk_vin_Base/World/Massage.lpworld)
                    Actor.dress()
                    Actor.show(2)
                    "Once arrived, I stripped down and lied on my back and wait."
                    Player.strip()
                    "<Actor.name> asks me if I want <Actor.him_or_her> to do the massage completely naked"
                    0::"Yes, completely naked"
                    1::"Just bottom"
                    2::"Just top"
                    3::"Stay dressed"
                    
                    If 0
                    
                        Actor.strip()
                        perversion += 0.5
                    ElseIf 1
                        Actor.strip()
                        Actor.dressExcept(Outerwear, Bottom, Foot, Headwear, Eyewear, Bottom_Under)
                        perversion += 0.5
                    ElseIf 2
                        Actor.strip()
                        Actor.dressExcept(Outerwear, Top, Headwear, Eyewear, Top_Under)
                        perversion += 0.25
                    EndIf
                    "<Actor.name> asks me what kind of surprise I would like to have after the massage?"
                    0:: "Blowjob"
                    1:: "Handjob"
                    2:: "Arousal massage"
                        
                    If 0
                    
                        "<Actor.name> quickly started <Actor.his_or_her> sensual massage and began massaging my body with oil which gives me hot sensations ... "
                        "After a while, <Actor.he_or_she> finishes the job with a blowjob!"
                        
                        If Player.isFemale()
                            Filter(Licking)
                        Else
                            Filter(Blowjob)
                        EndIf
                        sex(Actor, Player)
                        If HungerEnable > 0
                            Player.modifyActorVar(rk_VB_Hunger, -1)
                        EndIf
                    ElseIf 1
                        "<Actor.name> quickly started <Actor.his_or_her> sensual massage and began massaging my body with oil which gives me hot sensations ... "
                        "After a while, <Actor.he_or_she> finishes the job with a handjob!"
                        If Player.isFemale()
                            Filter(Fingering)
                        Else
                            Filter(Handjob)
                        EndIf
                        sex(Actor, Player)
                        If HungerEnable > 0
                            Player.modifyActorVar(rk_VB_Hunger, -1)
                        EndIf
                    ElseIf 2
                        "<Actor.name> quickly started <Actor.his_or_her> sensual massage and began massaging my body with oil which gives me hot sensations ... "
                        "After a while <Actor.he_or_she> started rubbing <Actor.his_or_her> body against my body until I had some sort of orgasm, then <Actor.he_or_she> stopped abruptly!"
                        Actor(Happy)::"The goal of this massage is to turn you on like a rabbit, it increases your libido. So hurry to get home, otherwise you might want to get fucked by the first comer ..."
                        arousal += 50
                    EndIf
                    "<Actor.name> was thoroughly professional and I enjoyed a very relaxing massage."
                    mood += 3
                    energy += 5
                    attractiveness += 1
                    "Before I leave, do I ask for an extra (sex)?"
                    1:: "Yes"
                    2:: "No"
                    
                    If 1
                        PriceSMassage = 150
                        PriceSMassage_Loc  = PriceSMassage.convertToLocalCurrency()
                        Actor(Flirty)::"The price for the an extra is <PriceSMassage_Loc>"
                        "What should I do?"
                        0::"Pay"
                        99::"Leave"
                        
                        If 0
                            perversion += 1
                            money -= 150
                            Actor.strip()
                            Player.strip()
                            "We stripped and started to make out!"
                            Sex(Actor, Player)
                            If HungerEnable > 0
                                Player.modifyActorVar(rk_VB_Hunger, -2)
                            EndIf
                        EndIf
                    EndIf
                    "Before I leave, do I ask <Actor.name>'s phone number?"
                    1:: "Yes"
                    2:: "No"  

                    If 1
                        If Actor.isInterestedIn(Player)
                            Actor(Happy):: "Of course, I'd love to exchange numbers."
                            exchangeContact(Actor)
                            Actor:attractiontoplayer += random(0, 3)
                            Actor:rapportwithplayer += random(0, 3)
                        Else
                            Actor(Sad):: "Sorry, but I don't normally exchange numbers with clients."
                        EndIf
                    EndIf
                EndIf
            EndIf
        EndIf
        If JoueAvecM
            Masturb_TimesS = Player.getActorVar(VB_Masturb_TimesS)
            SetMasturb_TimesS = Player.getActorVar(VB_SetMasturb_TimesS)
            mauvaisEscl = 0
            arousal -= 15
            energy -= 5
            NousSom = age*365
            NousSom = NousSom.round()
            NousSom1 = NousSom + 1
            NousSom1 = NousSom1.round()
            If isModEnabled(rk_vin_Base)
                If isTimingOut(rk_VB_masturbate)
                    "It's too soon since the last time I played with my <Player.dick_or_pussy>. It takes at least 8 hours to recover..."  
                ElseIf [[!Player.isMale() && Masturb_TimesS >= 10] || [Player.isMale() && Masturb_TimesS >= 6]] && NousSom <= NousSom1
                    "I played too many times with my <Player.dick_or_pussy> today.... I need to take a break!"
                    Player.setActorVar(VB_Masturb_TimesS, 0)
                    Player.setActorVar(VB_SetMasturb_TimesS, 0)
                    timeoutPrecise(8, rk_VB_masturbate)
                Else
                    Player.strip()
                    Filter(Solo)
                    Sex(Player)
                    Player.modifyActorVar(VB_Masturb_TimesS, 1)
                    If NousSom <= NousSom1 && SetMasturb_TimesS == 0
                        Player.setActorVar(VB_SetMasturb_TimesS, NousSom)
                    ElseIf NousSom >= NousSom1
                        Player.setActorVar(VB_Masturb_TimesS, 0)
                        Player.setActorVar(VB_SetMasturb_TimesS, 0)
                    EndIf
                    passTime(0.25, 1)
                    If isModEnabled(vin_BDSM)
                        rk_MN_EsclavMast.setGlobal(1)
                    EndIf
                EndIf
            EndIf
        EndIf
        followUp(rk_VB_Spot_Checks)
        
        //clearBackground3D()
    SceneEnd()