WHAT: dance
WHERE: nightclub
WHEN: 0 - 24
WHO: none
OTHER: Random(0, 200) < dance && Player:arousal > 25 && Player:intoxication > 15

    SceneStart()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        Bouncer = generatePersonTemporary()
        While !Bouncer.isMale()
            Bouncer = generatePersonTemporary()
        Endwhile
        Bouncer.blendPreset(bodybuilder)
        Bouncer.randomizeFace()
        Bouncer.randomizeHairs()
        Bouncer.hide()
        "I do consider myself a good dancer. The DJ is playing my favorite song, should I try and show off some moves?"
        0:: "Yes"
        1:: "No"

        If 0
        
            "Why not? I'm proud of my dancing ability and it's time to shine!"
            Player.strip()
            Player.animate(dance)
            arousal -= 5
            
            kickout = false
            BouncerFedup = random(0, 100)
            If Random(0, 100) < dance

                "My effort paid off and the crowd cheered on as I became the center of attention, showing off my best moves on the dance floor."
                dance += Random(0, 0.5)
                Actor = generatePerson()
                Actor.dress()
                Actor.show(2)
                Actor(Happy):: "Wow, you're a good dancer! I've got to give you that."
                "Impressed by my dancing talent, <Actor.name> approached me and struck up a conversation. <Actor.He_or_She> seemed okay, should I exchange contacts with <Actor.him_or_her>?"
                0:: "Yes"
                1:: "No"
            
                If 0
                    "I exchanged contacts with this new admirer of my dance moves."
                    exchangeContact(Actor)
                Else
                    "No way. I literally just met the <Actor.guy_or_girl>."
                Endif
                
                If BouncerFedup > 75
                    kickout = true
                EndIf
                
            ElseIf Actor:perversion > 50 && Actor:arousal > 25
            
                "My effort paid off and the crowd cheered on as I became the center of attention, showing off my best moves on the dance floor."
                dance += Random(0, 0.5)
                Actor = generatePerson()
                Actor.dress()
                Actor.show(2)
                Actor(Happy):: "Wow, you are a good dancer! Do you want to extend the show with a fuck!"
                "Impressed by my dancing talent, <Actor.name> approached me and flirt up at me. <Actor.He_or_She> seemed okay, should I fuck with <Actor.him_or_her>?"
                0:: "Yes"
                1:: "No"
            
                If 0
                    "We strip right away and started having sex right here, in front of people...!"
                    Actor.strip()
                    Actor.show()
                    Player.strip()
                    Player.show()
                    Sex(Player, Actor)
                    If HungerEnable > 0
                        Player.modifyActorVar(rk_VB_Hunger, -2)
                    EndIf
                    
                Else
                    "No way. I literally just met the <Actor.guy_or_girl>."
                Endif
                
                If BouncerFedup > 75
                    kickout = true
                EndIf
            Else
                "My solo dance moves ended up impressing no-one and just looking a bit silly."
                mood -= Random(0, 10)
                If BouncerFedup > 50 || Bouncer:arousal < 15
                    kickout = true
                EndIf
            Endif
            If kickout
                Player.animate()
                Bouncer.show()
                Bouncer.moveToPerson(Player)
                Bouncer(Serene)::"Hey you come with me!"
                "The bouncer takes me by the arm and leads me to a room at the back of the nightclub."
                If Bouncer:arousal > 15 && Bouncer:perversion > 50
                    Bouncer(Grin)::"You're here because you're naked and that's not allowed in the club. So either you agree to fuck with me or I'll call the police."
                    "What should I do?"
                    0::"Accept the offer"
                    1::"Refuse the offer"
                    2::"Try to escape!"
                    
                    If 0
                        perversion += 1
                        Player.strip()
                        Bouncer.strip()
                        SexNoAffair(Bouncer, Player)
                        "It was embarrassing but better than going to jail."
                    ElseIf 1
                        Bouncer(Grin)::"Up to you my friend..."
                        "The bouncer grab his phone and call the police..."
                        followUp(rk_VB_public_indecency)
                    Else
                        Bouncer(Grin)::"Where do you think you are going, the door is locked..."
                        "The bouncer grab his phone and call the police..."
                        sneak -= 1
                        followUp(rk_VB_public_indecency)
                    EndIf
                ElseIf Bouncer:arousal > 15
                    Bouncer(Grin)::"You're here because you're naked and it's not allowed in the club. So I'm going to have to ask you to get dressed and leave."
                    Bouncer(Flirty)::"Also just before I leave, I would like to have your phone number, although it's not allowed here, I enjoyed the show!"
                    "What should I do?"
                    0::"Accept"
                    1::"Refuse"
                    
                    If 0
                        Player(Happy)::"Sorry about that, I'm a little too drunk I guess, yes let's share our numbers...."
                        "We exchanged numbers and parted ways."
                        Bouncer.makePermanent()
                        exchangeContact(Bouncer)
                        Player.dress()
                        "So I got dressed and went home..."
                        moveTo(home)
                    Else
                        Bouncer(Grin)::"You're here because you're naked and it's not allowed in the club. So I'm going to have to ask you to get dressed and leave."
                        Player.dress()
                        "So I got dressed and went home..."
                        moveTo(home)
                    EndIf
                Else
                    Bouncer(Grin)::"You're here because you're naked and it's not allowed in the club. So I'm going to have to ask you to get dressed and leave."
                    Player.dress()
                    "So I got dressed and went home..."
                    moveTo(home)
                EndIf
            EndIf
        Else
            "I'd better not show off too much or risk making an idiot of myself."
        Endif
    SceneEnd()
    timeout(100, rk_VB_Horny_off_dance)