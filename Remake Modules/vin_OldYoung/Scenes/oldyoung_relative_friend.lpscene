WHAT: all
WHERE: home
WHEN: 8 - 21
WHO: Actor = getRelative(); If Actor.livesWithPlayer() && Actor:age > age - 10 + likes_older*0.5 && Actor:age < age + 10 + likes_older*0.5
OTHER:

    SceneStart()
        Hunger = Player.getActorVar(rk_VB_Hunger)
        HungerEnable = rk_VB_EnableHunger.getGlobal()
        UrgeToPeeEnable = rk_VB_UrgeToPeeEnable.getGlobal()
        UrgeToPee = Player.getActorVar(rk_VB_UrgeToPee)
        "It's the door bell. I wonder who it might be. I'm not expecting anyone today."
        Actor2 = generatePersonTemporary()
        While !Actor.isSameGender(Actor2)
            Actor2 = generatePersonTemporary()
        Endwhile
        Actor2.makeInterested(Player)
        
        Actor2:age => Actor:age
        Actor2:age += Random(-3, 3)
        If Actor2:age < 18
            Actor2:age => 18
        Endif
        Actor2.randomizeFace()
        Actor2.randomizeHairs()
        Actor2:likes_older => 2*[age - Actor2:age]
        Actor2:attractiontoplayer += Random(25, 50)
        
        setBackgroundCustom(livingroom)
        Actor2.dress()
        Actor2.show()
        "It's one of my <Actor.relationship>'s friends, <Actor2.name>, who was invited to come hang out with my <Actor.relationship>."
        "But where is my <Actor.relationship> anyway? <Actor.He_or_She> isn't home."
        Actor2(Happy):: "Hi, is <Actor.name> there?"
        If !Player.isEquipped(Top, Top_Under) || !Player.isEquipped(Bottom, Bottom_Under) || Player.isNaked()
            If Actor2:arousal > 15 && Actor2:perversion > 50
                Actor2(Flirty):: "Nice! You know how to welcome a person!"
                Actor2:arousal += 3
                AllGood = true
            Else
                WtfMan = true
            Endif
        Endif
        If AllGood
            Player(Serene):: "No, <Actor.he_or_she> left but should be back soon as <Actor.he_or_she> told me <Actor.he_or_she> was leaving for only a few hours ...."
            Actor2(Curious):: "Ok, that's because yesterday <Actor.he_or_she> told me to meet <Actor.him_or_her> here at this time ...."
            Player(Curious):: "So in that case, let me call <Actor.him_or_her> and tell <Actor.him_or_her> that you have arrived!"
            Actor2:arousal += Random(0, 2)
            secondScreen(Actor)
            Actor.show()
            Actor(Shocked):: "Oh damn ... I completely forgot that I asked my <Actor.relationship> to come today. I'm in the middle of something right now but I'll be back in about half an hour. Sorry ..."
            secondScreen()
            "My absent-minded <Actor.relationship> left <Actor.his_or_her> friend hanging ..."
            Player(Annoyed)::"<Actor.He_or_She> said <Actor.he_or_she> was in the middle of something and would be back in about half an hour. So if you want you can wait for <Actor.him_or_her> here or come back in 30 minutes."
            If Random(0, 100) > 40
                Actor2:arousal += Random(0, 1)
                Actor2(Happy):: "It's okay, I can just wait here for <Actor.name> ..."
                "So I invited <Actor2.him_or_her> to wait in the living room!"
                "What I should do?"
                0:: "Keep <Actor2.him_or_her> company"
                1:: "Just go back to whatever I was doing"
                
                If 0
                    Player(Happy):: "Let me get you some drinks at least ... It's only right to treat my <Actor.relationship>'s friends well on <Actor.his_or_her> behalf."
                    Actor2(Happy):: "That'll be great. Thank you!"
                    Actor2.animate(drinkglass)
                    Player.animate(drinkglass)
                    "We had some drinks and chatted with each other. Surprisingly, although we came from different generations, we actually had a very nice conversation and got along just fine. We enjoyed each other's company very much ..."
                    "Furthermore, I couldn't help but feel some chemistry between us ... some sexual tension even ... and at times, some of the things that <Actor2.name> says could easily be interpreted as flirting ..."
                    "But am I really going to seduce someone who is my <Actor.relationship>'s age? We're alone and my bedroom is even right there, there's probably only one way this is going to end if I decide to escalate things ..."
                    0:: "Seduce <Actor2.name>"
                    1:: "Just exchange numbers for another day"
                    2:: "Put <Actor2.him_or_her> off"
                    
                    If 0
                        continuS = false
                        "I made clear to <Actor2.name> that I had a thing for <Actor2.men_or_women> <Actor2.his_or_her> age."
                        "To my pleasant surprise, <Actor2.name> also admitted that <Actor2.he_or_she> found <Actor2.himself_or_herself> instantly attracted to me the moment I opened the door."
                        animatePair(Player, Actor2, Kissing)
                        If Actor2:arousal > 25 && Actor2:perversion > 40
                            "With those admissions out of the way, one thing led to another and soon..."
                            "What I/we should do?"
                            0::"Offer oral sex"
                            1::"Ask for oral sex"
                            2::"Offer a handjob"
                            3::"Ask for handjob"
                            4::"Make out"
                            5::"Do nothing"
                            
                            If 0
                                offer1 = true
                                continuS = true
                            ElseIf 1
                                offer2 = true
                                continuS = true
                            ElseIf 2
                                offer3 = true
                                continuS = true
                            ElseIf 3
                                offer4 = true
                                continuS = true
                            ElseIf 4
                                offer5 = true
                                continuS = true
                            Endif
                        
                            If continuS
                                "Which room is the best?"
                                0::"My room"
                                1::"Livingroom"
                                2::"Kitchen"
                                3::"Hallway"
                                4::"Random bedroom"
                                5::"Bathroom"
                                
                                If 0
                                    setBackground(home)
                                    "And not long after, we ended up in my bedroom."
                                    StillConti = true
                                ElseIf 1
                                    setBackgroundCustom(livingroom)
                                    "And not long after, we ended up in the livingroom."
                                    StillConti = true
                                ElseIf 2
                                    setBackgroundCustom(kitchen)
                                    "And not long after, we ended up in the kitchen."
                                    StillConti = true
                                ElseIf 3
                                    setBackgroundCustom(hallway)
                                    "And not long after, we ended up in the hallway."
                                    StillConti = true
                                ElseIf 4
                                    setBackground(bedroom)
                                    "And not long after, we ended up in the guest room."
                                    StillConti = true
                                ElseIf 5
                                    setBackground3D(Modules/rk_vin_Base/World/toilets___vin01.lpworld)
                                    "And not long after, we ended up in the bathroom."
                                    StillConti = true
                                EndIf
                            EndIf
                            If StillConti
                            GetCaught = false
                            WeAloneD = true
                            FactorR = 0
                            While WeAloneD && FactorR < 7
                                fuckT = Random(0, 10)
                                If offer1 
                                    Actor2.strip()
                                    "<Actor2.name> immediately undresses and spreads <Actor2.his_or_her> legs slightly waiting for my mouth and tongue games to arrive."
                                    If !Player.isMale()
                                        Filter(LickPussy)
                                    Else
                                        Filter(Blowjob)
                                    Endif
                                    Sex(Player, Actor2)
                                    If HungerEnable > 0
                                        Player.modifyActorVar(rk_VB_Hunger, -1)
                                    EndIf
                                    FactorR += 1
                                ElseIf offer2 
                                    Player.strip()
                                    "I immediately undresses and spreads my legs slightly waiting for <Actor2.his_or_her> mouth and tongue games to arrive."
                                    If !Actor2.isMale()
                                        Filter(LickPussy)
                                    Else
                                        Filter(Blowjob)
                                    Endif
                                    Sex(Actor2, Player)
                                    If HungerEnable > 0
                                        Player.modifyActorVar(rk_VB_Hunger, -1)
                                    EndIf
                                    FactorR += 1
                                ElseIf offer3
                                    Actor2.strip()
                                    "<Actor2.name> immediately undresses and spreads <Actor2.his_or_her> legs slightly waiting for my silky hands to come and caress <Actor2.him_or_her>."
                                    If !Player.isMale()
                                        Filter(Fingering)
                                    Else
                                        Filter(Handjob)
                                    Endif
                                    Sex(Player, Actor2)
                                    If HungerEnable > 0
                                        Player.modifyActorVar(rk_VB_Hunger, -1)
                                    EndIf
                                    FactorR += 1
                                ElseIf offer4 
                                    Player.strip()
                                    "I immediately undresses and spreads my legs slightly waiting for <Actor2.his_or_her> mouth and tongue games to arrive."
                                    If !Actor2.isMale()
                                        Filter(Fingering)
                                    Else
                                        Filter(Handjob)
                                    Endif
                                    Sex(Actor2, Player)
                                    If HungerEnable > 0
                                        Player.modifyActorVar(rk_VB_Hunger, -1)
                                    EndIf
                                    FactorR += 1
                                ElseIf offer5
                                    "We immediately undresses and go straight to the point before my <Actor.relationship> got back."
                                    Actor2.strip()
                                    Player.strip()
                                    Sex(Actor2, Player)
                                    If HungerEnable > 0
                                        Player.modifyActorVar(rk_VB_Hunger, -2)
                                    EndIf
                                    FactorR += 6
                                Endif
                            EndWhile
                            FFRes = FactorR*fuckT
                            If FactorR >= 7 || FFRes >= 70
                                GetCaught = true
                            EndIf
                            If GetCaught
                                If OpenRelationship() && Actor.isInterestedIn(Actor2) || Actor:arousal > 25 && Actor:perversion > 40
                                    Actor(Flirty):: "I must admit ... I kinda enjoyed watching that ..."
                                    Actor:arousal += Random(0, 5)
                                    Actor:perversion += Random(0, 1)
                                    Actor(Flirty):: "Do you mind if I join?"
                                    Actor2(Flirty)::"Sure babe as always!"
                                    Actor.strip()
                                    Player.strip()
                                    Sex(Actor2, Player, Actor)
                                    If HungerEnable > 0
                                        Player.modifyActorVar(rk_VB_Hunger, -3)
                                    EndIf
                                    "After our passionate session, we got dressed, then we managed to exchange numbers for more fun in the future."
                                    Actor2.makePermanent()
                                    exchangeContact(Actor2)
                                Else
                                    Actor:arousal -= Random(5, 15)
                                    Actor(Angry)::"WTF is going on here!"
                                    Actor2(Scared)::"Oh shit!"
                                    Player(Shocked):: "<Actor.name>? Please, let me explain. This isn't what it looks like ..."
                                    Actor(Angry):: "You asshole, shut up!"
                                    Actor(Angry):: "WTF <Actor2.name>! Our relationship is over, you cheating <Actor2.motherfucker_or_whore>. Bye!"            
                                    Actor(Angry):: "And you <Player.name>, I don't trust you anymore!"
                                    Actor:attractiontoplayer -= Random(5, 15)
                                    Actor:rapportwithplayer -= Random(10, 50)
                                EndIf
                            Else
                                "After a passionate session far more pleasurable than anyone my own age could offer, we got dressed before my <Actor.relationship> got back. Of course, we managed to exchange numbers for more fun in the future."
                                Actor2.makePermanent()
                                exchangeContact(Actor2)
                            Endif
                        Else
                            Actor2(Shocked)::"Hey! Oh! What are you doing? I'm really interested in you, but not to the point of losing my friendship with your boyfriend."
                            Actor2(Happy)::"But I'll keep this event between us, don't worry!"
                        Endif
                        If !GetCaught
                            secondScreen(Actor)
                            Actor.show()
                            "After a while, my <Actor.relationship> finally arrived."
                            "<Actor.He_or_She> had no idea ..."
                            secondScreen()
                        Endif
                        Actor.hide()
                        Actor2.hide()
                    Elseif 1
                        "Maybe this is a start of something special, but it's wiser to take it slow."
                        "I decided to exchange numbers with <Actor2.name> so that we could hang out in our own time without the risk of my <Actor.relationship> finding out ..."
                        Actor2.makePermanent()
                        exchangeContact(Actor2)
                    Else
                        "Things are getting a bit too heated and somewhat inappropriate even ... Let's try to kill off the conversation now."
                        Actor2:arousal -= Random(5, 15)
                    Endif
                Else
                    Actor.hide()
                    Actor2.hide()
                    setBackground(home)
                    "I decided to leave <Actor2.him_or_her> in the living room and returned to my room after saying bye."
                Endif
            Else
                Actor2(Happy):: "That's fine! I'll be back in 30 minutes."
            Endif
        Endif // allg
        If WtfMan
            Actor2(Shocked)::"Holy shit! Looking at you naked I don't think it's there, so I think I'll come back later!"
            Actor2.hide()
        Endif
    SceneEnd() // Improved by Raddeck
    timeout(150, oldyoung_relative_friend)